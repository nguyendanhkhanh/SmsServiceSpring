2021-12-30 11:55:47.511  INFO 3974 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 3974 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 11:55:47.519  INFO 3974 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 11:55:48.537  INFO 3974 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 11:55:48.538  INFO 3974 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 11:55:48.577  INFO 3974 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 11:55:48.578  INFO 3974 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 0 JDBC repository interfaces.
2021-12-30 11:55:48.587  INFO 3974 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 11:55:48.587  INFO 3974 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 11:55:48.628  INFO 3974 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 1 JPA repository interfaces.
2021-12-30 11:55:48.964  INFO 3974 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 11:55:48.967  INFO 3974 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 11:55:48.970  INFO 3974 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4c060c8f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 11:55:48.971  INFO 3974 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 11:55:48.977  INFO 3974 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 11:55:48.977  INFO 3974 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 11:55:48.979  INFO 3974 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 11:55:49.257  INFO 3974 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 11:55:49.269  INFO 3974 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 11:55:49.270  INFO 3974 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 11:55:49.363  INFO 3974 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 11:55:49.363  INFO 3974 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1758 ms
2021-12-30 11:55:49.436  WARN 3974 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 11:55:49.566  INFO 3974 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 11:55:49.713  INFO 3974 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 11:55:50.990  INFO 3974 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 11:55:51.777 DEBUG 3974 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 11:55:51.918 DEBUG 3974 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 11:55:52.035 DEBUG 3974 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 11:55:52.082 DEBUG 3974 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 11:55:52.325  INFO 3974 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 11:55:52.334  INFO 3974 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.379 seconds (JVM running for 6.223)
2021-12-30 12:45:31.866  WARN 3974 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=39m11s959ms).
2021-12-30 12:48:35.417  WARN 3974 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m3s553ms).
2021-12-30 13:03:31.870  WARN 3974 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=14m26s445ms).
2021-12-30 13:09:00.046  WARN 3974 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m58s119ms).
2021-12-30 14:11:07.454  WARN 3974 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m37s60ms).
2021-12-30 14:38:20.754  INFO 3974 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:38:20.787  INFO 3974 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 14:38:20.798  INFO 3974 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 14:38:30.332  INFO 5267 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5267 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 14:38:30.337  INFO 5267 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 14:38:31.693  INFO 5267 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:38:31.694  INFO 5267 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 14:38:31.735  INFO 5267 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:38:31.736  INFO 5267 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:38:31.737  INFO 5267 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 0 JDBC repository interfaces.
2021-12-30 14:38:31.746  INFO 5267 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:38:31.747  INFO 5267 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 14:38:31.785  INFO 5267 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2021-12-30 14:38:33.116  INFO 5267 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:38:33.120  INFO 5267 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:38:33.132  INFO 5267 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@56febdc' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:38:33.135  INFO 5267 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:38:33.142  INFO 5267 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:38:33.143  INFO 5267 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:38:33.150  INFO 5267 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:38:33.773  INFO 5267 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 14:38:33.794  INFO 5267 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 14:38:33.794  INFO 5267 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 14:38:33.960  INFO 5267 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 14:38:33.961  INFO 5267 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3459 ms
2021-12-30 14:38:34.050  WARN 5267 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 14:38:34.149  INFO 5267 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 14:38:34.254  INFO 5267 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 14:38:35.144  INFO 5267 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:38:35.874 DEBUG 5267 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 14:38:36.027 DEBUG 5267 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 14:38:36.155 DEBUG 5267 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 14:38:36.233 DEBUG 5267 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 14:38:36.458  INFO 5267 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 14:38:36.468  INFO 5267 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 7.22 seconds (JVM running for 8.447)
2021-12-30 14:40:14.084  INFO 5267 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:40:14.089  INFO 5267 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 14:40:14.098  INFO 5267 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 14:40:21.765  INFO 5286 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5286 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 14:40:21.769  INFO 5286 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 14:40:23.066  INFO 5286 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:40:23.067  INFO 5286 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 14:40:23.103  INFO 5286 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:40:23.106  INFO 5286 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:40:23.108  INFO 5286 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 0 JDBC repository interfaces.
2021-12-30 14:40:23.125  INFO 5286 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:40:23.126  INFO 5286 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 14:40:23.177  INFO 5286 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2021-12-30 14:40:23.514  INFO 5286 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:40:23.519  INFO 5286 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:40:23.521  INFO 5286 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@27cbfddf' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:40:23.522  INFO 5286 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:40:23.527  INFO 5286 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:40:23.528  INFO 5286 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:40:23.530  INFO 5286 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:40:23.770  INFO 5286 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 14:40:23.781  INFO 5286 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 14:40:23.782  INFO 5286 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 14:40:23.870  INFO 5286 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 14:40:23.870  INFO 5286 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1971 ms
2021-12-30 14:40:23.955  WARN 5286 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 14:40:24.090  INFO 5286 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 14:40:24.197  INFO 5286 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 14:40:25.083  INFO 5286 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:40:25.798 DEBUG 5286 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 14:40:25.921 DEBUG 5286 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 14:40:26.020 DEBUG 5286 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 14:40:26.057 DEBUG 5286 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 14:40:26.301  INFO 5286 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 14:40:26.313  INFO 5286 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.158 seconds (JVM running for 6.139)
2021-12-30 14:40:36.903  INFO 5286 --- [http-nio-5000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 14:40:36.904  INFO 5286 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 14:40:36.905 DEBUG 5286 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 14:40:36.905 DEBUG 5286 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 14:40:36.905 DEBUG 5286 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 14:40:36.910 DEBUG 5286 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@605c7a9e
2021-12-30 14:40:36.913 DEBUG 5286 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@794c5f5e
2021-12-30 14:40:36.915 DEBUG 5286 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 14:40:36.916  INFO 5286 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2021-12-30 14:40:36.938 DEBUG 5286 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:40:36.957 DEBUG 5286 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:40:36.961 DEBUG 5286 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:40:37.092 DEBUG 5286 --- [http-nio-5000-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=84964913998, messageType=REGISTER, branchId=null, accountId=0)]
2021-12-30 14:40:37.102  INFO 5286 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 84964913998
2021-12-30 14:40:37.301 DEBUG 5286 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.branch_id is null
2021-12-30 14:40:37.328  INFO 5286 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Code = 400 BAD_REQUEST,Send OTP fail,time = 225
2021-12-30 14:40:37.349 DEBUG 5286 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:40:37.349 DEBUG 5286 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@b97cd83]
2021-12-30 14:40:37.368 DEBUG 5286 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2021-12-30 14:41:05.068 DEBUG 5286 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:41:05.070 DEBUG 5286 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:41:05.070 DEBUG 5286 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:41:05.074 DEBUG 5286 --- [http-nio-5000-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=84964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:41:05.074  INFO 5286 --- [http-nio-5000-exec-4] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 84964913998
2021-12-30 14:41:05.093 DEBUG 5286 --- [http-nio-5000-exec-4] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.branch_id=?
2021-12-30 14:41:05.470 DEBUG 5286 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18
2021-12-30 14:41:05.480 ERROR 5286 --- [http-nio-5000-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 18
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1659) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy99.findByBranchId(Unknown Source) ~[na:na]
	at com.medlink.sms.service.otp.OtpService.sendOtpFpt(OtpService.java:58) ~[classes/:na]
	at com.medlink.sms.service.otp.OtpService$$FastClassBySpringCGLIB$$c3b5d710.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService$$EnhancerBySpringCGLIB$$fb9f0c89.sendOtpFpt(<generated>) ~[classes/:na]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 14:41:05.486 DEBUG 5286 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 14:41:05.491 DEBUG 5286 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 14:41:05.506 DEBUG 5286 --- [http-nio-5000-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:41:05.507 DEBUG 5286 --- [http-nio-5000-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 14:41:05 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 14:41:05.518 DEBUG 5286 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 14:41:38.765 DEBUG 5286 --- [http-nio-5000-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:41:38.766 DEBUG 5286 --- [http-nio-5000-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:41:38.767 DEBUG 5286 --- [http-nio-5000-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:41:38.768 DEBUG 5286 --- [http-nio-5000-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:41:38.768  INFO 5286 --- [http-nio-5000-exec-6] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 14:41:38.769 DEBUG 5286 --- [http-nio-5000-exec-6] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.branch_id=?
2021-12-30 14:41:38.777 DEBUG 5286 --- [http-nio-5000-exec-6] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18
2021-12-30 14:41:38.780 ERROR 5286 --- [http-nio-5000-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 18
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1659) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy99.findByBranchId(Unknown Source) ~[na:na]
	at com.medlink.sms.service.otp.OtpService.sendOtpFpt(OtpService.java:58) ~[classes/:na]
	at com.medlink.sms.service.otp.OtpService$$FastClassBySpringCGLIB$$c3b5d710.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService$$EnhancerBySpringCGLIB$$fb9f0c89.sendOtpFpt(<generated>) ~[classes/:na]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 14:41:38.783 DEBUG 5286 --- [http-nio-5000-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 14:41:38.783 DEBUG 5286 --- [http-nio-5000-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 14:41:38.784 DEBUG 5286 --- [http-nio-5000-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:41:38.784 DEBUG 5286 --- [http-nio-5000-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 14:41:38 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 14:41:38.786 DEBUG 5286 --- [http-nio-5000-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 14:41:53.682 DEBUG 5286 --- [http-nio-5000-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:41:53.683 DEBUG 5286 --- [http-nio-5000-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:41:53.683 DEBUG 5286 --- [http-nio-5000-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:41:53.684 DEBUG 5286 --- [http-nio-5000-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:41:53.685  INFO 5286 --- [http-nio-5000-exec-8] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 14:41:53.686 DEBUG 5286 --- [http-nio-5000-exec-8] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.branch_id=?
2021-12-30 14:41:53.693 DEBUG 5286 --- [http-nio-5000-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18
2021-12-30 14:41:53.699 ERROR 5286 --- [http-nio-5000-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 18
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1659) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy99.findByBranchId(Unknown Source) ~[na:na]
	at com.medlink.sms.service.otp.OtpService.sendOtpFpt(OtpService.java:58) ~[classes/:na]
	at com.medlink.sms.service.otp.OtpService$$FastClassBySpringCGLIB$$c3b5d710.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService$$EnhancerBySpringCGLIB$$fb9f0c89.sendOtpFpt(<generated>) ~[classes/:na]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 14:41:53.701 DEBUG 5286 --- [http-nio-5000-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 14:41:53.701 DEBUG 5286 --- [http-nio-5000-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 14:41:53.702 DEBUG 5286 --- [http-nio-5000-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:41:53.702 DEBUG 5286 --- [http-nio-5000-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 14:41:53 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 14:41:53.703 DEBUG 5286 --- [http-nio-5000-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 14:43:12.695  INFO 5286 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:43:12.698  INFO 5286 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 14:43:12.704  INFO 5286 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 14:43:18.612  INFO 5329 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5329 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 14:43:18.619  INFO 5329 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 14:43:19.487  INFO 5329 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:43:19.488  INFO 5329 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 14:43:19.525  INFO 5329 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:43:19.527  INFO 5329 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:43:19.528  INFO 5329 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 JDBC repository interfaces.
2021-12-30 14:43:19.536  INFO 5329 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:43:19.537  INFO 5329 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 14:43:19.581  INFO 5329 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2021-12-30 14:43:19.950  INFO 5329 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:43:19.955  INFO 5329 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:43:19.957  INFO 5329 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@69e308c6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:43:19.959  INFO 5329 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:43:19.964  INFO 5329 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:43:19.965  INFO 5329 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:43:19.967  INFO 5329 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:43:20.269  INFO 5329 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 14:43:20.280  INFO 5329 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 14:43:20.281  INFO 5329 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 14:43:20.427  INFO 5329 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 14:43:20.428  INFO 5329 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1659 ms
2021-12-30 14:43:20.499  WARN 5329 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 14:43:20.610  INFO 5329 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 14:43:20.746  INFO 5329 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 14:43:21.927  INFO 5329 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:43:22.804 DEBUG 5329 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 14:43:22.939 DEBUG 5329 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 14:43:23.057 DEBUG 5329 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 14:43:23.099 DEBUG 5329 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 14:43:23.326  INFO 5329 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 14:43:23.338  INFO 5329 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.294 seconds (JVM running for 7.503)
2021-12-30 14:43:28.494  INFO 5329 --- [http-nio-5000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 14:43:28.495  INFO 5329 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 14:43:28.495 DEBUG 5329 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 14:43:28.495 DEBUG 5329 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 14:43:28.496 DEBUG 5329 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 14:43:28.497 DEBUG 5329 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1b47b7f5
2021-12-30 14:43:28.498 DEBUG 5329 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@b5312df
2021-12-30 14:43:28.498 DEBUG 5329 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 14:43:28.498  INFO 5329 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-12-30 14:43:28.533 DEBUG 5329 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:43:28.548 DEBUG 5329 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:43:28.550 DEBUG 5329 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:43:28.661 DEBUG 5329 --- [http-nio-5000-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:43:28.672  INFO 5329 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 14:43:28.888 DEBUG 5329 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.branch_id=?
2021-12-30 14:43:29.200 DEBUG 5329 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18
2021-12-30 14:43:29.210 ERROR 5329 --- [http-nio-5000-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 18
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1659) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy99.findByBranchId(Unknown Source) ~[na:na]
	at com.medlink.sms.service.otp.OtpService.sendOtpFpt(OtpService.java:58) ~[classes/:na]
	at com.medlink.sms.service.otp.OtpService$$FastClassBySpringCGLIB$$c3b5d710.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService$$EnhancerBySpringCGLIB$$b30edba4.sendOtpFpt(<generated>) ~[classes/:na]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 14:43:29.217 DEBUG 5329 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 14:43:29.221 DEBUG 5329 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 14:43:29.249 DEBUG 5329 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:43:29.249 DEBUG 5329 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 14:43:29 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 14:43:29.289 DEBUG 5329 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 14:43:46.805 DEBUG 5329 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:43:46.806 DEBUG 5329 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:43:46.806 DEBUG 5329 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:43:46.808 DEBUG 5329 --- [http-nio-5000-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:43:46.808  INFO 5329 --- [http-nio-5000-exec-4] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 14:43:52.465 DEBUG 5329 --- [http-nio-5000-exec-4] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.branch_id=?
2021-12-30 14:43:52.474 DEBUG 5329 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18
2021-12-30 14:43:52.481 ERROR 5329 --- [http-nio-5000-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 18; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 18] with root cause

javax.persistence.NonUniqueResultException: query did not return a unique result: 18
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1659) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy99.findByBranchId(Unknown Source) ~[na:na]
	at com.medlink.sms.service.otp.OtpService.sendOtpFpt(OtpService.java:58) ~[classes/:na]
	at com.medlink.sms.service.otp.OtpService$$FastClassBySpringCGLIB$$c3b5d710.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService$$EnhancerBySpringCGLIB$$b30edba4.sendOtpFpt(<generated>) ~[classes/:na]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 14:43:52.483 DEBUG 5329 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 14:43:52.484 DEBUG 5329 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 14:43:52.488 DEBUG 5329 --- [http-nio-5000-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:43:52.489 DEBUG 5329 --- [http-nio-5000-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 14:43:52 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 14:43:52.493 DEBUG 5329 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 14:44:35.030  INFO 5329 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:44:35.036  INFO 5329 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 14:44:35.049  INFO 5329 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 14:44:42.351  INFO 5353 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5353 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 14:44:42.357  INFO 5353 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 14:44:43.328  INFO 5353 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:44:43.329  INFO 5353 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 14:44:43.371  INFO 5353 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:44:43.373  INFO 5353 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:44:43.374  INFO 5353 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 0 JDBC repository interfaces.
2021-12-30 14:44:43.392  INFO 5353 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:44:43.392  INFO 5353 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 14:44:43.429  INFO 5353 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2021-12-30 14:44:43.741  INFO 5353 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:44:43.746  INFO 5353 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:44:43.749  INFO 5353 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@667e34b1' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:44:43.752  INFO 5353 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:44:43.759  INFO 5353 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:44:43.759  INFO 5353 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:44:43.761  INFO 5353 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:44:44.051  INFO 5353 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 14:44:44.061  INFO 5353 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 14:44:44.061  INFO 5353 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 14:44:44.157  INFO 5353 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 14:44:44.157  INFO 5353 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1656 ms
2021-12-30 14:44:44.219  WARN 5353 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 14:44:44.372  INFO 5353 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 14:44:44.576  INFO 5353 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 14:44:45.714  INFO 5353 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:44:46.591 DEBUG 5353 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 14:44:46.721 DEBUG 5353 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 14:44:46.843 DEBUG 5353 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 14:44:46.891 DEBUG 5353 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 14:44:47.142  INFO 5353 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 14:44:47.153  INFO 5353 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.512 seconds (JVM running for 6.827)
2021-12-30 14:44:59.361  INFO 5353 --- [http-nio-5000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 14:44:59.361  INFO 5353 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 14:44:59.362 DEBUG 5353 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 14:44:59.362 DEBUG 5353 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 14:44:59.362 DEBUG 5353 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 14:44:59.364 DEBUG 5353 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3b39e79b
2021-12-30 14:44:59.364 DEBUG 5353 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@472c9f88
2021-12-30 14:44:59.364 DEBUG 5353 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 14:44:59.364  INFO 5353 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-12-30 14:44:59.395 DEBUG 5353 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:44:59.412 DEBUG 5353 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:44:59.414 DEBUG 5353 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:44:59.537 DEBUG 5353 --- [http-nio-5000-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:44:59.553  INFO 5353 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 14:45:03.707 DEBUG 5353 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 14:45:03.760 ERROR 5353 --- [http-nio-5000-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column 'smsbranchn0_.expire_date' in 'field list'
2021-12-30 14:45:03.782 DEBUG 5353 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet
2021-12-30 14:45:03.793 ERROR 5353 --- [http-nio-5000-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause

java.sql.SQLSyntaxErrorException: Unknown column 'smsbranchn0_.expire_date' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.getResultSet(Loader.java:2297) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2050) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1652) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy99.findByBranchId(Unknown Source) ~[na:na]
	at com.medlink.sms.service.otp.OtpService.sendOtpFpt(OtpService.java:58) ~[classes/:na]
	at com.medlink.sms.service.otp.OtpService$$FastClassBySpringCGLIB$$c3b5d710.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService$$EnhancerBySpringCGLIB$$cfc6ebf6.sendOtpFpt(<generated>) ~[classes/:na]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 14:45:03.797 DEBUG 5353 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 14:45:03.800 DEBUG 5353 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 14:45:03.822 DEBUG 5353 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:45:03.823 DEBUG 5353 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 14:45:03 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 14:45:03.851 DEBUG 5353 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 14:45:38.483 DEBUG 5353 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:45:38.485 DEBUG 5353 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:45:38.485 DEBUG 5353 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:45:38.487 DEBUG 5353 --- [http-nio-5000-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:45:38.487  INFO 5353 --- [http-nio-5000-exec-4] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 14:45:58.819 DEBUG 5353 --- [http-nio-5000-exec-4] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 14:45:58.821 ERROR 5353 --- [http-nio-5000-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column 'smsbranchn0_.expire_date' in 'field list'
2021-12-30 14:45:58.823 DEBUG 5353 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet
2021-12-30 14:45:58.830 ERROR 5353 --- [http-nio-5000-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause

java.sql.SQLSyntaxErrorException: Unknown column 'smsbranchn0_.expire_date' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.getResultSet(Loader.java:2297) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2050) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1652) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy99.findByBranchId(Unknown Source) ~[na:na]
	at com.medlink.sms.service.otp.OtpService.sendOtpFpt(OtpService.java:58) ~[classes/:na]
	at com.medlink.sms.service.otp.OtpService$$FastClassBySpringCGLIB$$c3b5d710.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService$$EnhancerBySpringCGLIB$$cfc6ebf6.sendOtpFpt(<generated>) ~[classes/:na]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 14:45:58.833 DEBUG 5353 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 14:45:58.833 DEBUG 5353 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 14:45:58.835 DEBUG 5353 --- [http-nio-5000-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:45:58.836 DEBUG 5353 --- [http-nio-5000-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 14:45:58 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 14:45:58.838 DEBUG 5353 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 14:46:40.337  INFO 5353 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:46:40.341  INFO 5353 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 14:46:40.350  INFO 5353 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 14:46:48.729  INFO 5371 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5371 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 14:46:48.732  INFO 5371 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 14:46:49.867  INFO 5371 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:46:49.868  INFO 5371 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 14:46:49.909  INFO 5371 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:46:49.911  INFO 5371 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:46:49.912  INFO 5371 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 0 JDBC repository interfaces.
2021-12-30 14:46:49.921  INFO 5371 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:46:49.922  INFO 5371 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 14:46:49.977  INFO 5371 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 2 JPA repository interfaces.
2021-12-30 14:46:50.297  INFO 5371 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:46:50.301  INFO 5371 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:46:50.303  INFO 5371 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1efdcd5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:46:50.304  INFO 5371 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:46:50.310  INFO 5371 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:46:50.311  INFO 5371 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:46:50.313  INFO 5371 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:46:50.575  INFO 5371 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 14:46:50.586  INFO 5371 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 14:46:50.586  INFO 5371 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 14:46:50.687  INFO 5371 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 14:46:50.688  INFO 5371 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1822 ms
2021-12-30 14:46:50.752  WARN 5371 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 14:46:50.885  INFO 5371 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 14:46:51.090  INFO 5371 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 14:46:52.215  INFO 5371 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:46:53.053 DEBUG 5371 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 14:46:53.183 DEBUG 5371 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 14:46:53.300 DEBUG 5371 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 14:46:53.342 DEBUG 5371 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 14:46:53.573  INFO 5371 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 14:46:53.584  INFO 5371 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.79 seconds (JVM running for 7.039)
2021-12-30 14:46:59.195  INFO 5371 --- [http-nio-5000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 14:46:59.197  INFO 5371 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 14:46:59.198 DEBUG 5371 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 14:46:59.199 DEBUG 5371 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 14:46:59.199 DEBUG 5371 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 14:46:59.202 DEBUG 5371 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@17884d
2021-12-30 14:46:59.202 DEBUG 5371 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@40016ce1
2021-12-30 14:46:59.203 DEBUG 5371 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 14:46:59.206  INFO 5371 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2021-12-30 14:46:59.252 DEBUG 5371 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:46:59.271 DEBUG 5371 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:46:59.272 DEBUG 5371 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:46:59.395 DEBUG 5371 --- [http-nio-5000-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:46:59.411  INFO 5371 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 14:47:04.358 DEBUG 5371 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 14:47:04.596 ERROR 5371 --- [http-nio-5000-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column 'smsbranchn0_.expire_date' in 'field list'
2021-12-30 14:47:04.622 DEBUG 5371 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet
2021-12-30 14:47:04.634 ERROR 5371 --- [http-nio-5000-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause

java.sql.SQLSyntaxErrorException: Unknown column 'smsbranchn0_.expire_date' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.getResultSet(Loader.java:2297) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2050) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1652) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy99.getByBranchId(Unknown Source) ~[na:na]
	at com.medlink.sms.service.otp.OtpService.sendOtpFpt(OtpService.java:58) ~[classes/:na]
	at com.medlink.sms.service.otp.OtpService$$FastClassBySpringCGLIB$$c3b5d710.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService$$EnhancerBySpringCGLIB$$ce80e369.sendOtpFpt(<generated>) ~[classes/:na]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 14:47:04.639 DEBUG 5371 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 14:47:04.642 DEBUG 5371 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 14:47:04.663 DEBUG 5371 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:47:04.664 DEBUG 5371 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 14:47:04 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 14:47:04.702 DEBUG 5371 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 14:47:16.179  INFO 5371 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:47:16.183  INFO 5371 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 14:47:16.188  INFO 5371 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 14:47:23.232  INFO 5379 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5379 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 14:47:23.250  INFO 5379 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 14:47:24.757  INFO 5379 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:47:24.758  INFO 5379 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 14:47:24.793  INFO 5379 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:47:24.795  INFO 5379 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:47:24.796  INFO 5379 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 JDBC repository interfaces.
2021-12-30 14:47:24.804  INFO 5379 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:47:24.805  INFO 5379 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 14:47:24.836  INFO 5379 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2021-12-30 14:47:25.139  INFO 5379 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:47:25.142  INFO 5379 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:47:25.144  INFO 5379 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@27ead29e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:47:25.146  INFO 5379 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:47:25.151  INFO 5379 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:47:25.152  INFO 5379 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:47:25.154  INFO 5379 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:47:25.377  INFO 5379 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 14:47:25.386  INFO 5379 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 14:47:25.386  INFO 5379 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 14:47:25.474  INFO 5379 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 14:47:25.474  INFO 5379 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1940 ms
2021-12-30 14:47:25.550  WARN 5379 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 14:47:25.658  INFO 5379 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 14:47:25.761  INFO 5379 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 14:47:26.584  INFO 5379 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:47:27.237 DEBUG 5379 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 14:47:27.364 DEBUG 5379 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 14:47:27.473 DEBUG 5379 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 14:47:27.515 DEBUG 5379 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 14:47:27.716  INFO 5379 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 14:47:27.725  INFO 5379 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.215 seconds (JVM running for 6.186)
2021-12-30 14:47:31.918  INFO 5379 --- [http-nio-5000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 14:47:31.919  INFO 5379 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 14:47:31.921 DEBUG 5379 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 14:47:31.921 DEBUG 5379 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 14:47:31.923 DEBUG 5379 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 14:47:31.928 DEBUG 5379 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@21c75084
2021-12-30 14:47:31.929 DEBUG 5379 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4ab66127
2021-12-30 14:47:31.929 DEBUG 5379 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 14:47:31.929  INFO 5379 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2021-12-30 14:47:31.981 DEBUG 5379 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:47:32.020 DEBUG 5379 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:47:32.025 DEBUG 5379 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:47:32.172 DEBUG 5379 --- [http-nio-5000-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:47:32.219  INFO 5379 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 14:47:32.367 DEBUG 5379 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 14:47:32.408 ERROR 5379 --- [http-nio-5000-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column 'smsbranchn0_.expire_date' in 'field list'
2021-12-30 14:47:32.428 DEBUG 5379 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet
2021-12-30 14:47:32.437 ERROR 5379 --- [http-nio-5000-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause

java.sql.SQLSyntaxErrorException: Unknown column 'smsbranchn0_.expire_date' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009) ~[mysql-connector-java-8.0.27.jar:8.0.27]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.getResultSet(Loader.java:2297) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2050) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1652) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy99.getByBranchId(Unknown Source) ~[na:na]
	at com.medlink.sms.service.otp.OtpService.sendOtpFpt(OtpService.java:58) ~[classes/:na]
	at com.medlink.sms.service.otp.OtpService$$FastClassBySpringCGLIB$$c3b5d710.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService$$EnhancerBySpringCGLIB$$beb12827.sendOtpFpt(<generated>) ~[classes/:na]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 14:47:32.444 DEBUG 5379 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 14:47:32.447 DEBUG 5379 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 14:47:32.467 DEBUG 5379 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:47:32.469 DEBUG 5379 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 14:47:32 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 14:47:32.804 DEBUG 5379 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 14:48:38.776  INFO 5379 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:48:38.780  INFO 5379 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 14:48:38.786  INFO 5379 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 14:48:42.939  INFO 5401 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5401 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 14:48:42.946  INFO 5401 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 14:48:44.017  INFO 5401 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:48:44.018  INFO 5401 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 14:48:44.061  INFO 5401 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:48:44.063  INFO 5401 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:48:44.064  INFO 5401 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 0 JDBC repository interfaces.
2021-12-30 14:48:44.077  INFO 5401 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:48:44.077  INFO 5401 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 14:48:44.159  INFO 5401 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 76 ms. Found 2 JPA repository interfaces.
2021-12-30 14:48:44.516  INFO 5401 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:48:44.522  INFO 5401 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:48:44.524  INFO 5401 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3c2772d1' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:48:44.526  INFO 5401 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:48:44.532  INFO 5401 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:48:44.533  INFO 5401 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:48:44.535  INFO 5401 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:48:44.868  INFO 5401 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 14:48:44.877  INFO 5401 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 14:48:44.878  INFO 5401 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 14:48:45.032  INFO 5401 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 14:48:45.033  INFO 5401 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1916 ms
2021-12-30 14:48:45.110  WARN 5401 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 14:48:45.233  INFO 5401 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 14:48:45.375  INFO 5401 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 14:48:46.523  INFO 5401 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:48:47.349 DEBUG 5401 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 14:48:47.478 DEBUG 5401 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 14:48:47.593 DEBUG 5401 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 14:48:47.641 DEBUG 5401 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 14:48:47.890  INFO 5401 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 14:48:47.902  INFO 5401 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.649 seconds (JVM running for 6.81)
2021-12-30 14:48:51.062  INFO 5401 --- [http-nio-5000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 14:48:51.063  INFO 5401 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 14:48:51.064 DEBUG 5401 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 14:48:51.064 DEBUG 5401 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 14:48:51.064 DEBUG 5401 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 14:48:51.066 DEBUG 5401 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@211a9647
2021-12-30 14:48:51.067 DEBUG 5401 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4b6b5352
2021-12-30 14:48:51.067 DEBUG 5401 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 14:48:51.068  INFO 5401 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2021-12-30 14:48:51.098 DEBUG 5401 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:48:51.117 DEBUG 5401 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:48:51.119 DEBUG 5401 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:48:51.244 DEBUG 5401 --- [http-nio-5000-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:48:51.257  INFO 5401 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 14:48:54.307 DEBUG 5401 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 14:50:32.138  WARN 5401 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m46s574ms).
2021-12-30 14:50:50.115 DEBUG 5401 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 14:51:09.770 DEBUG 5401 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId
2021-12-30 14:51:09.783 ERROR 5401 --- [http-nio-5000-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId] with root cause

org.hibernate.PropertyValueException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:116) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:72) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706) ~[hibernate-core-5.4.33.jar:5.4.33]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy93.persist(Unknown Source) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy93.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy97.save(Unknown Source) ~[na:na]
	at com.medlink.sms.service.otp.OtpService.sendOtpFpt(OtpService.java:92) ~[classes/:na]
	at com.medlink.sms.service.otp.OtpService$$FastClassBySpringCGLIB$$c3b5d710.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService$$EnhancerBySpringCGLIB$$7c1d0091.sendOtpFpt(<generated>) ~[classes/:na]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 14:51:09.792 DEBUG 5401 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 14:51:09.794 DEBUG 5401 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 14:51:09.828 DEBUG 5401 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:51:09.829 DEBUG 5401 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 14:51:09 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 14:51:09.900 DEBUG 5401 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 14:51:23.589 DEBUG 5401 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:51:23.591 DEBUG 5401 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:51:23.591 DEBUG 5401 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:51:23.593 DEBUG 5401 --- [http-nio-5000-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=2, accountId=0)]
2021-12-30 14:51:23.593  INFO 5401 --- [http-nio-5000-exec-4] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 14:51:26.298 DEBUG 5401 --- [http-nio-5000-exec-4] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 14:51:30.126  INFO 5401 --- [http-nio-5000-exec-4] c.m.sms.controller.otp.OtpController     : Code = 400 BAD_REQUEST,Send OTP fail,time = 6533
2021-12-30 14:51:30.146 DEBUG 5401 --- [http-nio-5000-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:51:30.147 DEBUG 5401 --- [http-nio-5000-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@124e0d99]
2021-12-30 14:51:30.154 DEBUG 5401 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2021-12-30 14:55:21.069 DEBUG 5401 --- [http-nio-5000-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:55:21.071 DEBUG 5401 --- [http-nio-5000-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:55:21.071 DEBUG 5401 --- [http-nio-5000-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:55:21.073 DEBUG 5401 --- [http-nio-5000-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0664913998, messageType=REGISTER, branchId=2, accountId=0)]
2021-12-30 14:55:21.074  INFO 5401 --- [http-nio-5000-exec-5] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0664913998
2021-12-30 14:55:24.395 DEBUG 5401 --- [http-nio-5000-exec-5] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 14:55:26.888  INFO 5401 --- [http-nio-5000-exec-5] c.m.sms.controller.otp.OtpController     : Code = 400 BAD_REQUEST,Send OTP fail,time = 5812
2021-12-30 14:55:26.889 DEBUG 5401 --- [http-nio-5000-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:55:26.890 DEBUG 5401 --- [http-nio-5000-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@3b6df991]
2021-12-30 14:55:26.891 DEBUG 5401 --- [http-nio-5000-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2021-12-30 14:55:43.032 DEBUG 5401 --- [http-nio-5000-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:55:43.033 DEBUG 5401 --- [http-nio-5000-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:55:43.033 DEBUG 5401 --- [http-nio-5000-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:55:43.036 DEBUG 5401 --- [http-nio-5000-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0664913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:55:43.036  INFO 5401 --- [http-nio-5000-exec-8] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0664913998
2021-12-30 14:55:45.151 DEBUG 5401 --- [http-nio-5000-exec-8] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 14:55:46.479 DEBUG 5401 --- [http-nio-5000-exec-8] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 14:55:49.903 DEBUG 5401 --- [http-nio-5000-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId
2021-12-30 14:55:49.912 ERROR 5401 --- [http-nio-5000-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId] with root cause

org.hibernate.PropertyValueException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:116) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:72) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706) ~[hibernate-core-5.4.33.jar:5.4.33]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy93.persist(Unknown Source) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy93.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy97.save(Unknown Source) ~[na:na]
	at com.medlink.sms.service.otp.OtpService.sendOtpFpt(OtpService.java:92) ~[classes/:na]
	at com.medlink.sms.service.otp.OtpService$$FastClassBySpringCGLIB$$c3b5d710.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService$$EnhancerBySpringCGLIB$$7c1d0091.sendOtpFpt(<generated>) ~[classes/:na]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 14:55:49.916 DEBUG 5401 --- [http-nio-5000-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 14:55:49.917 DEBUG 5401 --- [http-nio-5000-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 14:55:49.919 DEBUG 5401 --- [http-nio-5000-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:55:49.919 DEBUG 5401 --- [http-nio-5000-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 14:55:49 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 14:55:49.922 DEBUG 5401 --- [http-nio-5000-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 14:56:18.852  INFO 5401 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:56:18.856  INFO 5401 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 14:56:18.863  INFO 5401 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 14:56:26.580  INFO 5477 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5477 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 14:56:26.583  INFO 5477 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 14:56:27.563  INFO 5477 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:56:27.564  INFO 5477 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 14:56:27.678  INFO 5477 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:56:27.680  INFO 5477 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:56:27.682  INFO 5477 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 114 ms. Found 0 JDBC repository interfaces.
2021-12-30 14:56:27.691  INFO 5477 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:56:27.691  INFO 5477 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 14:56:27.734  INFO 5477 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2021-12-30 14:56:28.055  INFO 5477 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:56:28.062  INFO 5477 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:56:28.067  INFO 5477 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2424686b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:56:28.068  INFO 5477 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:56:28.074  INFO 5477 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:56:28.075  INFO 5477 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:56:28.076  INFO 5477 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:56:28.287  INFO 5477 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 14:56:28.297  INFO 5477 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 14:56:28.298  INFO 5477 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 14:56:28.407  INFO 5477 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 14:56:28.407  INFO 5477 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1694 ms
2021-12-30 14:56:28.463  WARN 5477 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 14:56:28.562  INFO 5477 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 14:56:28.673  INFO 5477 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 14:56:29.559  INFO 5477 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:56:30.185 DEBUG 5477 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 14:56:30.299 DEBUG 5477 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 14:56:30.386 DEBUG 5477 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 14:56:30.427 DEBUG 5477 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 14:56:30.635  INFO 5477 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 14:56:30.644  INFO 5477 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 4.54 seconds (JVM running for 5.29)
2021-12-30 14:56:34.369  INFO 5477 --- [http-nio-5000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 14:56:34.373  INFO 5477 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 14:56:34.374 DEBUG 5477 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 14:56:34.376 DEBUG 5477 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 14:56:34.378 DEBUG 5477 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 14:56:34.380 DEBUG 5477 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6dded900
2021-12-30 14:56:34.380 DEBUG 5477 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@98637a2
2021-12-30 14:56:34.381 DEBUG 5477 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 14:56:34.381  INFO 5477 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2021-12-30 14:56:34.406 DEBUG 5477 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:56:34.426 DEBUG 5477 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:56:34.427 DEBUG 5477 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:56:34.519 DEBUG 5477 --- [http-nio-5000-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0664913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:56:34.529  INFO 5477 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0664913998
2021-12-30 14:56:34.693 DEBUG 5477 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 14:56:34.747 DEBUG 5477 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 14:56:34.783 DEBUG 5477 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId
2021-12-30 14:56:34.794 ERROR 5477 --- [http-nio-5000-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId] with root cause

org.hibernate.PropertyValueException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:116) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:72) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706) ~[hibernate-core-5.4.33.jar:5.4.33]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy93.persist(Unknown Source) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy93.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy97.save(Unknown Source) ~[na:na]
	at com.medlink.sms.service.otp.OtpService.sendOtpFpt(OtpService.java:93) ~[classes/:na]
	at com.medlink.sms.service.otp.OtpService$$FastClassBySpringCGLIB$$c3b5d710.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService$$EnhancerBySpringCGLIB$$f8c4f208.sendOtpFpt(<generated>) ~[classes/:na]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 14:56:34.798 DEBUG 5477 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 14:56:34.803 DEBUG 5477 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 14:56:35.185 DEBUG 5477 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:56:35.186 DEBUG 5477 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 14:56:34 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 14:56:35.231 DEBUG 5477 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 14:57:06.035  INFO 5477 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:57:06.038  INFO 5477 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 14:57:06.047  INFO 5477 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 14:57:14.426  INFO 5485 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5485 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 14:57:14.430  INFO 5485 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 14:57:15.419  INFO 5485 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:57:15.420  INFO 5485 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 14:57:15.461  INFO 5485 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:57:15.463  INFO 5485 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:57:15.464  INFO 5485 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 0 JDBC repository interfaces.
2021-12-30 14:57:15.473  INFO 5485 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:57:15.473  INFO 5485 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 14:57:15.525  INFO 5485 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2021-12-30 14:57:15.915  INFO 5485 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:57:15.921  INFO 5485 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:57:15.925  INFO 5485 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@51745f40' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:57:15.928  INFO 5485 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:57:15.935  INFO 5485 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:57:15.936  INFO 5485 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:57:15.938  INFO 5485 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:57:16.322  INFO 5485 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 14:57:16.333  INFO 5485 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 14:57:16.334  INFO 5485 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 14:57:16.476  INFO 5485 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 14:57:16.477  INFO 5485 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1951 ms
2021-12-30 14:57:16.557  WARN 5485 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 14:57:16.676  INFO 5485 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 14:57:16.832  INFO 5485 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 14:57:18.187  INFO 5485 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:57:19.089 DEBUG 5485 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 14:57:19.212 DEBUG 5485 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 14:57:19.320 DEBUG 5485 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 14:57:19.365 DEBUG 5485 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 14:57:19.587  INFO 5485 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 14:57:19.598  INFO 5485 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 6.065 seconds (JVM running for 7.248)
2021-12-30 14:57:30.023  INFO 5485 --- [http-nio-5000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 14:57:30.023  INFO 5485 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 14:57:30.023 DEBUG 5485 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 14:57:30.023 DEBUG 5485 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 14:57:30.023 DEBUG 5485 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 14:57:30.026 DEBUG 5485 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@211a9647
2021-12-30 14:57:30.026 DEBUG 5485 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4b6b5352
2021-12-30 14:57:30.027 DEBUG 5485 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 14:57:30.027  INFO 5485 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2021-12-30 14:57:30.054 DEBUG 5485 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:57:30.071 DEBUG 5485 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:57:30.073 DEBUG 5485 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:57:30.276 DEBUG 5485 --- [http-nio-5000-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0664913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:57:30.306  INFO 5485 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0664913998
2021-12-30 14:57:32.936 DEBUG 5485 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 14:57:37.352 DEBUG 5485 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 14:57:57.409 DEBUG 5485 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId
2021-12-30 14:57:57.417 ERROR 5485 --- [http-nio-5000-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId] with root cause

org.hibernate.PropertyValueException: not-null property references a null or transient value : com.medlink.sms.entity.otp.SmsMessageOtp.branchId
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:116) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:72) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720) ~[hibernate-core-5.4.33.jar:5.4.33]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706) ~[hibernate-core-5.4.33.jar:5.4.33]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy93.persist(Unknown Source) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy93.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.5.7.jar:2.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.sun.proxy.$Proxy97.save(Unknown Source) ~[na:na]
	at com.medlink.sms.service.otp.OtpService.sendOtpFpt(OtpService.java:92) ~[classes/:na]
	at com.medlink.sms.service.otp.OtpService$$FastClassBySpringCGLIB$$c3b5d710.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService$$EnhancerBySpringCGLIB$$e1f54b4b.sendOtpFpt(<generated>) ~[classes/:na]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 14:57:57.423 DEBUG 5485 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 14:57:57.427 DEBUG 5485 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 14:57:57.445 DEBUG 5485 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:57:57.445 DEBUG 5485 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 14:57:57 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 14:57:57.495 DEBUG 5485 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 14:58:24.259  INFO 5485 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:58:24.263  INFO 5485 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 14:58:24.270  INFO 5485 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 14:58:31.250  INFO 5496 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5496 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 14:58:31.255  INFO 5496 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 14:58:32.338  INFO 5496 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:58:32.339  INFO 5496 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 14:58:32.385  INFO 5496 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:58:32.388  INFO 5496 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 14:58:32.389  INFO 5496 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 0 JDBC repository interfaces.
2021-12-30 14:58:32.398  INFO 5496 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 14:58:32.399  INFO 5496 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 14:58:32.443  INFO 5496 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2021-12-30 14:58:32.790  INFO 5496 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:58:32.794  INFO 5496 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:58:32.796  INFO 5496 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@712ca57b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:58:32.798  INFO 5496 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:58:32.804  INFO 5496 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:58:32.805  INFO 5496 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:58:32.806  INFO 5496 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 14:58:33.069  INFO 5496 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 14:58:33.079  INFO 5496 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 14:58:33.079  INFO 5496 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 14:58:33.182  INFO 5496 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 14:58:33.182  INFO 5496 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1812 ms
2021-12-30 14:58:33.245  WARN 5496 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 14:58:33.370  INFO 5496 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 14:58:33.505  INFO 5496 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 14:58:34.631  INFO 5496 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 14:58:35.631 DEBUG 5496 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 14:58:35.762 DEBUG 5496 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 14:58:35.919 DEBUG 5496 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 14:58:35.970 DEBUG 5496 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 14:58:36.245  INFO 5496 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 14:58:36.259  INFO 5496 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 6.038 seconds (JVM running for 7.266)
2021-12-30 14:58:44.461  INFO 5496 --- [http-nio-5000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 14:58:44.463  INFO 5496 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 14:58:44.463 DEBUG 5496 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 14:58:44.464 DEBUG 5496 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 14:58:44.464 DEBUG 5496 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 14:58:44.467 DEBUG 5496 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2ae5bd34
2021-12-30 14:58:44.468 DEBUG 5496 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2ef041bb
2021-12-30 14:58:44.468 DEBUG 5496 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 14:58:44.469  INFO 5496 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2021-12-30 14:58:44.497 DEBUG 5496 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:58:44.518 DEBUG 5496 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:58:44.520 DEBUG 5496 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:58:44.660 DEBUG 5496 --- [http-nio-5000-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0864913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:58:44.680  INFO 5496 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0864913998
2021-12-30 14:58:47.322 DEBUG 5496 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 14:58:50.490 DEBUG 5496 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 14:58:54.267 DEBUG 5496 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 14:58:54.924  INFO 5496 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : {"access_token":"ZnBKOU5iN1NBbEh1aW1NdUh1VVBYNXZ5T3NtNHZZcS8vQUVkUEhFRFhHVzZTblJTMTBEaWtMYW0xa3dqQXRsZEtJYUdUci8yWjFUblhoL1JFc05IdG9OTnJ1YzNVd2R2R3VGR3VocXh3MXo2QzhnOEJqN0NaRVI4Wis0b0dwdytBckdRblJKN1A4TXBXeGtTUWJhVDJHdk44WDQ2ZGRYeTk5TVFGZmFKOS9TNmNqVlRwMTlWems0UkdveEFPRGdv","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"19"}
2021-12-30 14:58:54.959 DEBUG 5496 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 14:58:54.961 DEBUG 5496 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 14:58:54.966 DEBUG 5496 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Writing [{"access_token":"ZnBKOU5iN1NBbEh1aW1NdUh1VVBYNXZ5T3NtNHZZcS8vQUVkUEhFRFhHVzZTblJTMTBEaWtMYW0xa3dqQXRsZEtJYUdUci8yWjFUblhoL1JFc05IdG9OTnJ1YzNVd2R2R3VGR3VocXh3MXo2QzhnOEJqN0NaRVI4Wis0b0dwdytBckdRblJKN1A4TXBXeGtTUWJhVDJHdk44WDQ2ZGRYeTk5TVFGZmFKOS9TNmNqVlRwMTlWems0UkdveEFPRGdv","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"19"}] as "application/json"
2021-12-30 14:58:55.086 DEBUG 5496 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 14:58:55.093  INFO 5496 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 14:58:55.097  INFO 5496 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Code = 401 UNAUTHORIZED,Send OTP fail,time = 10416
2021-12-30 14:58:55.117 DEBUG 5496 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 14:58:55.118 DEBUG 5496 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@3fc8a915]
2021-12-30 14:58:55.139 DEBUG 5496 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2021-12-30 14:59:25.557 DEBUG 5496 --- [http-nio-5000-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:59:25.559 DEBUG 5496 --- [http-nio-5000-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 14:59:25.560 DEBUG 5496 --- [http-nio-5000-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 14:59:25.561 DEBUG 5496 --- [http-nio-5000-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0864913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 14:59:25.561  INFO 5496 --- [http-nio-5000-exec-3] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0864913998
2021-12-30 14:59:27.307 DEBUG 5496 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 14:59:29.108 DEBUG 5496 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 14:59:32.323 DEBUG 5496 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 14:59:33.344  INFO 5496 --- [http-nio-5000-exec-3] com.medlink.sms.service.otp.OtpService   : {"access_token":"ZnBKOU5iN1NBbEh1aW1NdUh1VVBYNXZ5T3NtNHZZcS8vQUVkUEhFRFhHVzZTblJTMTBEaWtMYW0xa3dqQXRsZEtJYUdUci8yWjFUblhoL1JFc05IdG9OTnJ1YzNVd2R2R3VGR3VocXh3MXo2QzhnOEJqN0NaRVI4Wis0b0dwdytBckdRblJKN1A4TXBXeGtTUWJhVDJHdk44WDQ2ZGRYeTk5TVFGZmFKOS9TNmNqVlRwMTlWems0UkdveEFPRGdv","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"20"}
2021-12-30 14:59:33.345 DEBUG 5496 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 14:59:33.345 DEBUG 5496 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 14:59:33.346 DEBUG 5496 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Writing [{"access_token":"ZnBKOU5iN1NBbEh1aW1NdUh1VVBYNXZ5T3NtNHZZcS8vQUVkUEhFRFhHVzZTblJTMTBEaWtMYW0xa3dqQXRsZEtJYUdUci8yWjFUblhoL1JFc05IdG9OTnJ1YzNVd2R2R3VGR3VocXh3MXo2QzhnOEJqN0NaRVI4Wis0b0dwdytBckdRblJKN1A4TXBXeGtTUWJhVDJHdk44WDQ2ZGRYeTk5TVFGZmFKOS9TNmNqVlRwMTlWems0UkdveEFPRGdv","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"20"}] as "application/json"
2021-12-30 14:59:33.444 DEBUG 5496 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 14:59:43.653  INFO 5496 --- [http-nio-5000-exec-3] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 15:01:16.529  WARN 5496 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m39s59ms).
2021-12-30 15:01:16.534  INFO 5496 --- [http-nio-5000-exec-3] c.m.sms.controller.otp.OtpController     : Code = 401 UNAUTHORIZED,Send OTP fail,time = 110972
2021-12-30 15:01:16.535 DEBUG 5496 --- [http-nio-5000-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:01:16.536 DEBUG 5496 --- [http-nio-5000-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@63820942]
2021-12-30 15:01:16.538 DEBUG 5496 --- [http-nio-5000-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2021-12-30 15:04:26.155 DEBUG 5496 --- [http-nio-5000-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:04:26.163 DEBUG 5496 --- [http-nio-5000-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 15:04:26.164 DEBUG 5496 --- [http-nio-5000-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:04:26.171 DEBUG 5496 --- [http-nio-5000-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0864913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 15:04:26.172  INFO 5496 --- [http-nio-5000-exec-5] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0864913998
2021-12-30 15:04:29.406 DEBUG 5496 --- [http-nio-5000-exec-5] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 15:04:30.773 DEBUG 5496 --- [http-nio-5000-exec-5] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 15:04:33.904 DEBUG 5496 --- [http-nio-5000-exec-5] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 15:04:35.136  INFO 5496 --- [http-nio-5000-exec-5] com.medlink.sms.service.otp.OtpService   : {"access_token":"ZnBKOU5iN1NBbEh1aW1NdUh1VVBYNXZ5T3NtNHZZcS8vQUVkUEhFRFhHVzZTblJTMTBEaWtMYW0xa3dqQXRsZEtJYUdUci8yWjFUblhoL1JFc05IdG9OTnJ1YzNVd2R2R3VGR3VocXh3MXo2QzhnOEJqN0NaRVI4Wis0b0dwdytBckdRblJKN1A4TXBXeGtTUWJhVDJHdk44WDQ2ZGRYeTk5TVFGZmFKOS9TNmNqVlRwMTlWems0UkdveEFPRGdv","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"21"}
2021-12-30 15:04:35.137 DEBUG 5496 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 15:04:35.138 DEBUG 5496 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 15:04:35.139 DEBUG 5496 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : Writing [{"access_token":"ZnBKOU5iN1NBbEh1aW1NdUh1VVBYNXZ5T3NtNHZZcS8vQUVkUEhFRFhHVzZTblJTMTBEaWtMYW0xa3dqQXRsZEtJYUdUci8yWjFUblhoL1JFc05IdG9OTnJ1YzNVd2R2R3VGR3VocXh3MXo2QzhnOEJqN0NaRVI4Wis0b0dwdytBckdRblJKN1A4TXBXeGtTUWJhVDJHdk44WDQ2ZGRYeTk5TVFGZmFKOS9TNmNqVlRwMTlWems0UkdveEFPRGdv","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"21"}] as "application/json"
2021-12-30 15:04:35.283 DEBUG 5496 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 15:04:35.286 DEBUG 5496 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 15:04:35.298  INFO 5496 --- [http-nio-5000-exec-5] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 15:04:35.304  INFO 5496 --- [http-nio-5000-exec-5] c.m.sms.controller.otp.OtpController     : Code = 200 OK,Send OTP success,time = 9132
2021-12-30 15:04:35.305 DEBUG 5496 --- [http-nio-5000-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:04:35.306 DEBUG 5496 --- [http-nio-5000-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@56d7c490]
2021-12-30 15:04:35.308 DEBUG 5496 --- [http-nio-5000-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-12-30 15:04:58.099 DEBUG 5496 --- [http-nio-5000-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:04:58.102 DEBUG 5496 --- [http-nio-5000-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 15:04:58.103 DEBUG 5496 --- [http-nio-5000-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:04:58.106 DEBUG 5496 --- [http-nio-5000-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0864913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 15:04:58.107  INFO 5496 --- [http-nio-5000-exec-7] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0864913998
2021-12-30 15:05:04.846 DEBUG 5496 --- [http-nio-5000-exec-7] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 15:05:04.850 DEBUG 5496 --- [http-nio-5000-exec-7] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 15:05:05.899 DEBUG 5496 --- [http-nio-5000-exec-7] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 15:05:08.984  INFO 5496 --- [http-nio-5000-exec-7] com.medlink.sms.service.otp.OtpService   : {"access_token":"ZnBKOU5iN1NBbEh1aW1NdUh1VVBYNXZ5T3NtNHZZcS8vQUVkUEhFRFhHVzZTblJTMTBEaWtMYW0xa3dqQXRsZEtJYUdUci8yWjFUblhoL1JFc05IdG9OTnJ1YzNVd2R2R3VGR3VocXh3MXo2QzhnOEJqN0NaRVI4Wis0b0dwdytBckdRblJKN1A4TXBXeGtTUWJhVDJHdk44WDQ2ZGRYeTk5TVFGZmFKOS9TNmNqVlRwMTlWems0UkdveEFPRGdv","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"22"}
2021-12-30 15:05:08.985 DEBUG 5496 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 15:05:08.986 DEBUG 5496 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 15:05:08.986 DEBUG 5496 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Writing [{"access_token":"ZnBKOU5iN1NBbEh1aW1NdUh1VVBYNXZ5T3NtNHZZcS8vQUVkUEhFRFhHVzZTblJTMTBEaWtMYW0xa3dqQXRsZEtJYUdUci8yWjFUblhoL1JFc05IdG9OTnJ1YzNVd2R2R3VGR3VocXh3MXo2QzhnOEJqN0NaRVI4Wis0b0dwdytBckdRblJKN1A4TXBXeGtTUWJhVDJHdk44WDQ2ZGRYeTk5TVFGZmFKOS9TNmNqVlRwMTlWems0UkdveEFPRGdv","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"22"}] as "application/json"
2021-12-30 15:05:09.141 DEBUG 5496 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 15:05:09.142 DEBUG 5496 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 15:05:09.142  INFO 5496 --- [http-nio-5000-exec-7] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 15:05:16.348 DEBUG 5496 --- [http-nio-5000-exec-7] org.hibernate.SQL                        : update sms_message_otp set account_id=?, branch_id=?, expire_date=?, message_type=?, otp_value=?, phone_no=?, request_id=? where message_otp_id=?
2021-12-30 15:05:16.355  INFO 5496 --- [http-nio-5000-exec-7] c.m.sms.controller.otp.OtpController     : Code = 200 OK,Send OTP success,time = 18248
2021-12-30 15:05:16.357 DEBUG 5496 --- [http-nio-5000-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:05:16.357 DEBUG 5496 --- [http-nio-5000-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@52185eef]
2021-12-30 15:05:16.360 DEBUG 5496 --- [http-nio-5000-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-12-30 15:08:56.132 DEBUG 5496 --- [http-nio-5000-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:08:56.135 DEBUG 5496 --- [http-nio-5000-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 15:08:56.135 DEBUG 5496 --- [http-nio-5000-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:08:56.139 DEBUG 5496 --- [http-nio-5000-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 15:08:56.142  INFO 5496 --- [http-nio-5000-exec-10] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 15:08:56.146 DEBUG 5496 --- [http-nio-5000-exec-10] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 15:08:56.149 DEBUG 5496 --- [http-nio-5000-exec-10] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 15:08:58.872 DEBUG 5496 --- [http-nio-5000-exec-10] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 15:09:05.987  INFO 5496 --- [http-nio-5000-exec-10] com.medlink.sms.service.otp.OtpService   : {"access_token":"ZnBKOU5iN1NBbEh1aW1NdUh1VVBYNXZ5T3NtNHZZcS8vQUVkUEhFRFhHVzZTblJTMTBEaWtMYW0xa3dqQXRsZEtJYUdUci8yWjFUblhoL1JFc05IdG9OTnJ1YzNVd2R2R3VGR3VocXh3MXo2QzhnOEJqN0NaRVI4Wis0b0dwdytBckdRblJKN1A4TXBXeGtTUWJhVDJHdk44WDQ2ZGRYeTk5TVFGZmFKOS9TNmNqVlRwMTlWems0UkdveEFPRGdv","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"23"}
2021-12-30 15:09:05.988 DEBUG 5496 --- [http-nio-5000-exec-10] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 15:09:05.988 DEBUG 5496 --- [http-nio-5000-exec-10] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 15:09:05.988 DEBUG 5496 --- [http-nio-5000-exec-10] o.s.web.client.RestTemplate              : Writing [{"access_token":"ZnBKOU5iN1NBbEh1aW1NdUh1VVBYNXZ5T3NtNHZZcS8vQUVkUEhFRFhHVzZTblJTMTBEaWtMYW0xa3dqQXRsZEtJYUdUci8yWjFUblhoL1JFc05IdG9OTnJ1YzNVd2R2R3VGR3VocXh3MXo2QzhnOEJqN0NaRVI4Wis0b0dwdytBckdRblJKN1A4TXBXeGtTUWJhVDJHdk44WDQ2ZGRYeTk5TVFGZmFKOS9TNmNqVlRwMTlWems0UkdveEFPRGdv","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"23"}] as "application/json"
2021-12-30 15:09:06.084 DEBUG 5496 --- [http-nio-5000-exec-10] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 15:09:06.087  INFO 5496 --- [http-nio-5000-exec-10] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 15:09:06.090  INFO 5496 --- [http-nio-5000-exec-10] c.m.sms.controller.otp.OtpController     : Code = 401 UNAUTHORIZED,Send OTP fail,time = 9948
2021-12-30 15:09:06.091 DEBUG 5496 --- [http-nio-5000-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:09:06.092 DEBUG 5496 --- [http-nio-5000-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@26bb11df]
2021-12-30 15:09:06.095 DEBUG 5496 --- [http-nio-5000-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2021-12-30 15:09:12.665 DEBUG 5496 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:09:12.667 DEBUG 5496 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 15:09:12.668 DEBUG 5496 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:09:12.669 DEBUG 5496 --- [http-nio-5000-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 15:09:12.669  INFO 5496 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 15:09:12.670 DEBUG 5496 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 15:09:12.672 DEBUG 5496 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 15:09:14.343 DEBUG 5496 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 15:09:19.445  INFO 5496 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : {"access_token":"ZnBKOU5iN1NBbEh1aW1NdUh1VVBYNXZ5T3NtNHZZcS8vQUVkUEhFRFhHVzZTblJTMTBEaWtMYW0xa3dqQXRsZEtJYUdUci8yWjFUblhoL1JFc05IdG9OTnJ1YzNVd2R2R3VGR3VocXh3MXo2QzhnOEJqN0NaRVI4Wis0b0dwdytBckdRblJKN1A4TXBXeGtTUWJhVDJHdk44WDQ2ZGRYeTk5TVFGZmFKOS9TNmNqVlRwMTlWems0UkdveEFPRGdv","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"24"}
2021-12-30 15:09:19.446 DEBUG 5496 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 15:09:19.446 DEBUG 5496 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 15:09:19.447 DEBUG 5496 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"access_token":"ZnBKOU5iN1NBbEh1aW1NdUh1VVBYNXZ5T3NtNHZZcS8vQUVkUEhFRFhHVzZTblJTMTBEaWtMYW0xa3dqQXRsZEtJYUdUci8yWjFUblhoL1JFc05IdG9OTnJ1YzNVd2R2R3VGR3VocXh3MXo2QzhnOEJqN0NaRVI4Wis0b0dwdytBckdRblJKN1A4TXBXeGtTUWJhVDJHdk44WDQ2ZGRYeTk5TVFGZmFKOS9TNmNqVlRwMTlWems0UkdveEFPRGdv","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"24"}] as "application/json"
2021-12-30 15:09:19.569 DEBUG 5496 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 15:09:19.573  INFO 5496 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 15:09:19.576  INFO 5496 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Code = 401 UNAUTHORIZED,Send OTP fail,time = 6906
2021-12-30 15:09:19.577 DEBUG 5496 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:09:19.577 DEBUG 5496 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@3b3f4db2]
2021-12-30 15:09:19.580 DEBUG 5496 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2021-12-30 15:09:19.735  INFO 5496 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 15:09:19.742  INFO 5496 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 15:09:19.754  INFO 5496 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 15:09:28.697  INFO 5596 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5596 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 15:09:28.701  INFO 5596 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 15:09:29.784  INFO 5596 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 15:09:29.785  INFO 5596 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 15:09:29.823  INFO 5596 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 15:09:29.825  INFO 5596 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 15:09:29.827  INFO 5596 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 0 JDBC repository interfaces.
2021-12-30 15:09:29.836  INFO 5596 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 15:09:29.836  INFO 5596 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 15:09:29.894  INFO 5596 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 2 JPA repository interfaces.
2021-12-30 15:09:30.271  INFO 5596 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:09:30.279  INFO 5596 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:09:30.282  INFO 5596 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4564e94b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:09:30.284  INFO 5596 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:09:30.290  INFO 5596 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:09:30.291  INFO 5596 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:09:30.294  INFO 5596 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:09:30.621  INFO 5596 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 15:09:30.631  INFO 5596 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 15:09:30.631  INFO 5596 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 15:09:30.726  INFO 5596 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 15:09:30.727  INFO 5596 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1924 ms
2021-12-30 15:09:30.788  WARN 5596 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 15:09:30.946  INFO 5596 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 15:09:31.101  INFO 5596 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 15:09:32.217  INFO 5596 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 15:09:33.081 DEBUG 5596 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 15:09:33.283 DEBUG 5596 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 15:09:33.391 DEBUG 5596 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 15:09:33.436 DEBUG 5596 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 15:09:33.689  INFO 5596 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 15:09:33.699  INFO 5596 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.891 seconds (JVM running for 6.884)
2021-12-30 15:10:36.006  INFO 5596 --- [http-nio-5000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 15:10:36.007  INFO 5596 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 15:10:36.007 DEBUG 5596 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 15:10:36.007 DEBUG 5596 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 15:10:36.007 DEBUG 5596 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 15:10:36.009 DEBUG 5596 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@308e87a1
2021-12-30 15:10:36.010 DEBUG 5596 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2f86f9cf
2021-12-30 15:10:36.010 DEBUG 5596 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 15:10:36.010  INFO 5596 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-12-30 15:10:36.033 DEBUG 5596 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:10:36.047 DEBUG 5596 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 15:10:36.050 DEBUG 5596 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:10:36.164 DEBUG 5596 --- [http-nio-5000-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 15:10:36.177  INFO 5596 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 15:10:36.417 DEBUG 5596 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 15:10:36.754 DEBUG 5596 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 15:10:39.032 DEBUG 5596 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 15:10:39.846  INFO 5596 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"25"}
2021-12-30 15:10:39.894 DEBUG 5596 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 15:10:39.896 DEBUG 5596 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 15:10:39.901 DEBUG 5596 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"25"}] as "application/json"
2021-12-30 15:10:40.027 DEBUG 5596 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 15:10:40.039  INFO 5596 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 15:10:40.052  INFO 5596 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Code = 401 UNAUTHORIZED,Send OTP fail,time = 3874
2021-12-30 15:10:40.077 DEBUG 5596 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:10:40.078 DEBUG 5596 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@38bb426]
2021-12-30 15:10:40.096 DEBUG 5596 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2021-12-30 15:10:53.785 DEBUG 5596 --- [http-nio-5000-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:10:53.786 DEBUG 5596 --- [http-nio-5000-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 15:10:53.786 DEBUG 5596 --- [http-nio-5000-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:10:53.787 DEBUG 5596 --- [http-nio-5000-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 15:10:53.787  INFO 5596 --- [http-nio-5000-exec-3] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 15:10:53.789 DEBUG 5596 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 15:10:53.793 DEBUG 5596 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 15:10:55.277 DEBUG 5596 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 15:10:55.782  INFO 5596 --- [http-nio-5000-exec-3] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"26"}
2021-12-30 15:10:55.783 DEBUG 5596 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 15:10:55.783 DEBUG 5596 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 15:10:55.784 DEBUG 5596 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"26"}] as "application/json"
2021-12-30 15:10:55.889 DEBUG 5596 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 15:10:55.895  INFO 5596 --- [http-nio-5000-exec-3] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 15:12:03.500  WARN 5596 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m32s285ms).
2021-12-30 15:12:03.507  INFO 5596 --- [http-nio-5000-exec-3] c.m.sms.controller.otp.OtpController     : Code = 401 UNAUTHORIZED,Send OTP fail,time = 69720
2021-12-30 15:12:03.511 DEBUG 5596 --- [http-nio-5000-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:12:03.511 DEBUG 5596 --- [http-nio-5000-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@6c3d5708]
2021-12-30 15:12:03.515 DEBUG 5596 --- [http-nio-5000-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2021-12-30 15:12:03.876  INFO 5596 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 15:12:03.881  INFO 5596 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 15:12:03.890  INFO 5596 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 15:12:41.973  INFO 5624 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5624 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 15:12:41.976  INFO 5624 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 15:12:42.817  INFO 5624 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 15:12:42.818  INFO 5624 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 15:12:42.857  INFO 5624 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 15:12:42.859  INFO 5624 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 15:12:42.860  INFO 5624 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 0 JDBC repository interfaces.
2021-12-30 15:12:42.869  INFO 5624 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 15:12:42.869  INFO 5624 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 15:12:42.912  INFO 5624 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2021-12-30 15:12:43.219  INFO 5624 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:12:43.223  INFO 5624 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:12:43.225  INFO 5624 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@69e308c6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:12:43.227  INFO 5624 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:12:43.232  INFO 5624 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:12:43.233  INFO 5624 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:12:43.235  INFO 5624 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:12:43.508  INFO 5624 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 15:12:43.523  INFO 5624 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 15:12:43.523  INFO 5624 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 15:12:43.630  INFO 5624 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 15:12:43.631  INFO 5624 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1574 ms
2021-12-30 15:12:43.695  WARN 5624 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 15:12:43.843  INFO 5624 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 15:12:43.980  INFO 5624 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 15:12:45.052  INFO 5624 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 15:12:45.991 DEBUG 5624 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 15:12:46.125 DEBUG 5624 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 15:12:46.233 DEBUG 5624 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 15:12:46.291 DEBUG 5624 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 15:12:46.553  INFO 5624 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 15:12:46.564  INFO 5624 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.303 seconds (JVM running for 6.329)
2021-12-30 15:12:50.809  INFO 5624 --- [http-nio-5000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 15:12:50.810  INFO 5624 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 15:12:50.810 DEBUG 5624 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 15:12:50.810 DEBUG 5624 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 15:12:50.810 DEBUG 5624 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 15:12:50.812 DEBUG 5624 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6a6d1ff3
2021-12-30 15:12:50.812 DEBUG 5624 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@75527e36
2021-12-30 15:12:50.812 DEBUG 5624 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 15:12:50.813  INFO 5624 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-12-30 15:12:50.841 DEBUG 5624 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:12:50.857 DEBUG 5624 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 15:12:50.860 DEBUG 5624 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:12:50.985 DEBUG 5624 --- [http-nio-5000-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 15:12:50.999  INFO 5624 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 15:12:51.217 DEBUG 5624 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 15:12:51.590 DEBUG 5624 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 15:12:53.658 DEBUG 5624 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 15:12:54.471  INFO 5624 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"27"}
2021-12-30 15:12:54.502 DEBUG 5624 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 15:12:54.504 DEBUG 5624 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 15:12:54.508 DEBUG 5624 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"27"}] as "application/json"
2021-12-30 15:12:54.618 DEBUG 5624 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 15:12:54.624  INFO 5624 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 15:13:00.067  INFO 5624 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Code = 400 BAD_REQUEST,Send OTP fail,time = 9067
2021-12-30 15:13:00.098 DEBUG 5624 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:13:00.099 DEBUG 5624 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@1065a9e0]
2021-12-30 15:13:00.117 DEBUG 5624 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2021-12-30 15:18:31.445  INFO 5624 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 15:18:31.450  INFO 5624 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 15:18:31.458  INFO 5624 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 15:18:42.062  INFO 5689 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5689 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 15:18:42.066  INFO 5689 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 15:18:43.029  INFO 5689 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 15:18:43.030  INFO 5689 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 15:18:43.073  INFO 5689 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 15:18:43.076  INFO 5689 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 15:18:43.077  INFO 5689 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 0 JDBC repository interfaces.
2021-12-30 15:18:43.086  INFO 5689 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 15:18:43.086  INFO 5689 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 15:18:43.137  INFO 5689 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2021-12-30 15:18:43.487  INFO 5689 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:18:43.491  INFO 5689 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:18:43.493  INFO 5689 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3c2772d1' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:18:43.495  INFO 5689 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:18:43.501  INFO 5689 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:18:43.502  INFO 5689 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:18:43.503  INFO 5689 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:18:43.796  INFO 5689 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 15:18:43.807  INFO 5689 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 15:18:43.807  INFO 5689 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 15:18:43.917  INFO 5689 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 15:18:43.918  INFO 5689 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1750 ms
2021-12-30 15:18:44.012  WARN 5689 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 15:18:44.125  INFO 5689 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 15:18:44.288  INFO 5689 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 15:18:45.448  INFO 5689 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 15:18:46.293 DEBUG 5689 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 15:18:46.427 DEBUG 5689 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 15:18:46.554 DEBUG 5689 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 15:18:46.603 DEBUG 5689 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 15:18:46.898  INFO 5689 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 15:18:46.909  INFO 5689 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.906 seconds (JVM running for 7.635)
2021-12-30 15:18:50.291  INFO 5689 --- [http-nio-5000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 15:18:50.292  INFO 5689 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 15:18:50.292 DEBUG 5689 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 15:18:50.293 DEBUG 5689 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 15:18:50.293 DEBUG 5689 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 15:18:50.294 DEBUG 5689 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3db1ce78
2021-12-30 15:18:50.294 DEBUG 5689 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@21c75084
2021-12-30 15:18:50.294 DEBUG 5689 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 15:18:50.294  INFO 5689 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-12-30 15:18:50.320 DEBUG 5689 --- [http-nio-5000-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2021-12-30 15:18:50.332 DEBUG 5689 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/otp/check", parameters={}
2021-12-30 15:18:50.335  WARN 5689 --- [http-nio-5000-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2021-12-30 15:18:50.336 DEBUG 5689 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2021-12-30 15:18:50.340 DEBUG 5689 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2021-12-30 15:18:50.343 DEBUG 5689 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 15:18:50.382 DEBUG 5689 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:18:50.383 DEBUG 5689 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 15:18:50 ICT 2021, status=405, error=Method Not Allowed, path=/api/otp/check}]
2021-12-30 15:18:50.438 DEBUG 5689 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 405
2021-12-30 15:19:04.876 DEBUG 5689 --- [http-nio-5000-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#checkOtpFpt(CheckOtpRequest)
2021-12-30 15:19:04.878 DEBUG 5689 --- [http-nio-5000-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/check", parameters={}
2021-12-30 15:19:04.878 DEBUG 5689 --- [http-nio-5000-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#checkOtpFpt(CheckOtpRequest)
2021-12-30 15:19:04.948 DEBUG 5689 --- [http-nio-5000-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckOtpRequest(phoneNo=0964913998, otp=123456, branchId=1)]
2021-12-30 15:19:04.976  INFO 5689 --- [http-nio-5000-exec-3] c.m.sms.controller.otp.OtpController     : Check OTP for 0964913998
2021-12-30 15:19:07.953 DEBUG 5689 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? and smsmessage0_.expire_date>?
2021-12-30 15:19:25.526  INFO 5689 --- [http-nio-5000-exec-3] c.m.sms.controller.otp.OtpController     : Code = 401 UNAUTHORIZED,OTP is incorrect,time = 20549
2021-12-30 15:19:25.543 DEBUG 5689 --- [http-nio-5000-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:19:25.543 DEBUG 5689 --- [http-nio-5000-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@64d87344]
2021-12-30 15:19:25.548 DEBUG 5689 --- [http-nio-5000-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2021-12-30 15:19:31.915 DEBUG 5689 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:19:31.917 DEBUG 5689 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 15:19:31.917 DEBUG 5689 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:19:31.923 DEBUG 5689 --- [http-nio-5000-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 15:19:31.923  INFO 5689 --- [http-nio-5000-exec-4] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 15:19:31.947 DEBUG 5689 --- [http-nio-5000-exec-4] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 15:19:32.007 DEBUG 5689 --- [http-nio-5000-exec-4] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 15:19:33.624 DEBUG 5689 --- [http-nio-5000-exec-4] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 15:19:34.866  INFO 5689 --- [http-nio-5000-exec-4] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"28"}
2021-12-30 15:19:34.914 DEBUG 5689 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 15:19:34.916 DEBUG 5689 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 15:19:34.925 DEBUG 5689 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"28"}] as "application/json"
2021-12-30 15:19:35.103 DEBUG 5689 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 15:19:35.115  INFO 5689 --- [http-nio-5000-exec-4] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 15:19:37.248  INFO 5689 --- [http-nio-5000-exec-4] c.m.sms.controller.otp.OtpController     : Code = 400 BAD_REQUEST,Send OTP fail,time = 5325
2021-12-30 15:19:37.248 DEBUG 5689 --- [http-nio-5000-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:19:37.249 DEBUG 5689 --- [http-nio-5000-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@12bd02a9]
2021-12-30 15:19:37.250 DEBUG 5689 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2021-12-30 15:24:53.045  INFO 5689 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 15:24:53.050  INFO 5689 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 15:24:53.057  INFO 5689 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 15:25:56.736  INFO 5768 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5768 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 15:25:56.760  INFO 5768 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 15:25:57.777  INFO 5768 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 15:25:57.778  INFO 5768 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 15:25:57.819  INFO 5768 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 15:25:57.821  INFO 5768 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 15:25:57.822  INFO 5768 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 0 JDBC repository interfaces.
2021-12-30 15:25:57.831  INFO 5768 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 15:25:57.832  INFO 5768 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 15:25:57.877  INFO 5768 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2021-12-30 15:25:58.192  INFO 5768 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:25:58.196  INFO 5768 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:25:58.198  INFO 5768 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@37d00a23' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:25:58.199  INFO 5768 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:25:58.205  INFO 5768 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:25:58.206  INFO 5768 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:25:58.207  INFO 5768 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:25:58.466  INFO 5768 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 15:25:58.477  INFO 5768 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 15:25:58.478  INFO 5768 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 15:25:58.577  INFO 5768 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 15:25:58.578  INFO 5768 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1630 ms
2021-12-30 15:25:58.663  WARN 5768 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 15:25:58.787  INFO 5768 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 15:25:58.913  INFO 5768 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 15:26:00.077  INFO 5768 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 15:26:01.057 DEBUG 5768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 15:26:01.186 DEBUG 5768 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 15:26:01.292 DEBUG 5768 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 15:26:01.358 DEBUG 5768 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 15:26:01.624  INFO 5768 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 15:26:01.635  INFO 5768 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.56 seconds (JVM running for 6.723)
2021-12-30 15:26:32.246  INFO 5768 --- [http-nio-5000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 15:26:32.247  INFO 5768 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 15:26:32.248 DEBUG 5768 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 15:26:32.248 DEBUG 5768 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 15:26:32.248 DEBUG 5768 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 15:26:32.250 DEBUG 5768 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@c732e1c
2021-12-30 15:26:32.250 DEBUG 5768 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7e050be1
2021-12-30 15:26:32.251 DEBUG 5768 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 15:26:32.251  INFO 5768 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2021-12-30 15:26:32.294 DEBUG 5768 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:26:32.313 DEBUG 5768 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 15:26:32.315 DEBUG 5768 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:26:32.467 DEBUG 5768 --- [http-nio-5000-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 15:26:32.488  INFO 5768 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 15:26:32.736 DEBUG 5768 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 15:26:33.157 DEBUG 5768 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 15:26:35.964 DEBUG 5768 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 15:26:36.692  INFO 5768 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"29"}
2021-12-30 15:26:36.724 DEBUG 5768 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 15:26:36.726 DEBUG 5768 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 15:26:36.730 DEBUG 5768 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"29"}] as "application/json"
2021-12-30 15:26:36.854 DEBUG 5768 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 15:26:36.859  INFO 5768 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 15:27:25.110  WARN 5768 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=56s89ms).
2021-12-30 15:27:35.655  INFO 5768 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Code = 400 BAD_REQUEST,Send OTP fail,time = 63165
2021-12-30 15:27:35.685 DEBUG 5768 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:27:35.686 DEBUG 5768 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@6640a2d3]
2021-12-30 15:27:35.710 DEBUG 5768 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2021-12-30 15:28:40.886  INFO 5768 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 15:28:40.891  INFO 5768 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 15:28:40.901  INFO 5768 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 15:28:56.752  INFO 5813 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5813 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 15:28:56.791  INFO 5813 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 15:28:57.725  INFO 5813 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 15:28:57.726  INFO 5813 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 15:28:57.765  INFO 5813 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 15:28:57.767  INFO 5813 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 15:28:57.769  INFO 5813 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 0 JDBC repository interfaces.
2021-12-30 15:28:57.784  INFO 5813 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 15:28:57.785  INFO 5813 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 15:28:57.822  INFO 5813 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2021-12-30 15:28:58.164  INFO 5813 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:28:58.168  INFO 5813 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:28:58.170  INFO 5813 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@54534abf' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:28:58.171  INFO 5813 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:28:58.177  INFO 5813 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:28:58.178  INFO 5813 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:28:58.179  INFO 5813 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:28:58.505  INFO 5813 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 15:28:58.514  INFO 5813 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 15:28:58.514  INFO 5813 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 15:28:58.794  INFO 5813 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 15:28:58.795  INFO 5813 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1885 ms
2021-12-30 15:28:58.930  WARN 5813 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 15:28:59.051  INFO 5813 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 15:28:59.189  INFO 5813 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 15:29:00.290  INFO 5813 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 15:29:01.155 DEBUG 5813 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 15:29:01.281 DEBUG 5813 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 15:29:01.385 DEBUG 5813 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 15:29:01.435 DEBUG 5813 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 15:29:01.659  INFO 5813 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 15:29:01.672  INFO 5813 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.719 seconds (JVM running for 6.776)
2021-12-30 15:29:06.368  INFO 5813 --- [http-nio-5000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 15:29:06.369  INFO 5813 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 15:29:06.370 DEBUG 5813 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 15:29:06.370 DEBUG 5813 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 15:29:06.370 DEBUG 5813 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 15:29:06.371 DEBUG 5813 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@60c96eb4
2021-12-30 15:29:06.372 DEBUG 5813 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6f867b0c
2021-12-30 15:29:06.372 DEBUG 5813 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 15:29:06.372  INFO 5813 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-12-30 15:29:06.397 DEBUG 5813 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:29:06.412 DEBUG 5813 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 15:29:06.414 DEBUG 5813 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:29:06.523 DEBUG 5813 --- [http-nio-5000-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 15:29:06.537  INFO 5813 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 15:29:06.759 DEBUG 5813 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 15:29:07.117 DEBUG 5813 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 15:29:09.291 DEBUG 5813 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 15:29:10.235  INFO 5813 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"30"}
2021-12-30 15:29:10.268 DEBUG 5813 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 15:29:10.270 DEBUG 5813 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 15:29:10.278 DEBUG 5813 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"30"}] as "application/json"
2021-12-30 15:29:10.396 DEBUG 5813 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 15:29:10.403  INFO 5813 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 15:29:47.202  WARN 5813 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s913ms).
2021-12-30 15:29:47.216  INFO 5813 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Code = 400 BAD_REQUEST,Send OTP fail,time = 40678
2021-12-30 15:29:47.236 DEBUG 5813 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:29:47.236 DEBUG 5813 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@2aa9a6e3]
2021-12-30 15:29:47.257 DEBUG 5813 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2021-12-30 15:29:47.388  INFO 5813 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 15:29:47.393  INFO 5813 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 15:29:47.400  INFO 5813 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 15:29:56.240  INFO 5834 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5834 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 15:29:56.245  INFO 5834 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 15:29:57.113  INFO 5834 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 15:29:57.114  INFO 5834 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 15:29:57.152  INFO 5834 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 15:29:57.154  INFO 5834 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 15:29:57.155  INFO 5834 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 0 JDBC repository interfaces.
2021-12-30 15:29:57.164  INFO 5834 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 15:29:57.164  INFO 5834 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 15:29:57.211  INFO 5834 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 2 JPA repository interfaces.
2021-12-30 15:29:57.521  INFO 5834 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:29:57.525  INFO 5834 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:29:57.527  INFO 5834 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1efdcd5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:29:57.529  INFO 5834 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:29:57.534  INFO 5834 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:29:57.535  INFO 5834 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:29:57.537  INFO 5834 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:29:57.806  INFO 5834 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 15:29:57.816  INFO 5834 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 15:29:57.817  INFO 5834 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 15:29:57.914  INFO 5834 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 15:29:57.914  INFO 5834 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1576 ms
2021-12-30 15:29:57.977  WARN 5834 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 15:29:58.093  INFO 5834 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 15:29:58.219  INFO 5834 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 15:29:59.326  INFO 5834 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 15:30:00.440 DEBUG 5834 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 15:30:00.577 DEBUG 5834 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 15:30:00.689 DEBUG 5834 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 15:30:00.733 DEBUG 5834 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 15:30:01.246  INFO 5834 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 15:30:01.267  INFO 5834 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.852 seconds (JVM running for 7.351)
2021-12-30 15:33:27.075  WARN 5834 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m28s634ms).
2021-12-30 15:33:43.550  INFO 5834 --- [http-nio-5000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 15:33:43.551  INFO 5834 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 15:33:43.552 DEBUG 5834 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 15:33:43.552 DEBUG 5834 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 15:33:43.552 DEBUG 5834 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 15:33:43.556 DEBUG 5834 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@c732e1c
2021-12-30 15:33:43.557 DEBUG 5834 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7e050be1
2021-12-30 15:33:43.557 DEBUG 5834 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 15:33:43.557  INFO 5834 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2021-12-30 15:33:43.592 DEBUG 5834 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:33:43.613 DEBUG 5834 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 15:33:43.615 DEBUG 5834 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:33:43.775 DEBUG 5834 --- [http-nio-5000-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 15:33:43.807  INFO 5834 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 15:33:44.075 DEBUG 5834 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 15:33:44.451 DEBUG 5834 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 15:33:47.338 DEBUG 5834 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 15:33:48.808  INFO 5834 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"31"}
2021-12-30 15:33:48.844 DEBUG 5834 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 15:33:48.847 DEBUG 5834 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 15:33:48.851 DEBUG 5834 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"31"}] as "application/json"
2021-12-30 15:33:49.031 DEBUG 5834 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 15:33:49.037  INFO 5834 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 15:33:49.043  INFO 5834 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Code = 401 UNAUTHORIZED,Send OTP fail,time = 5233
2021-12-30 15:33:49.064 DEBUG 5834 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:33:49.064 DEBUG 5834 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@7e4c839a]
2021-12-30 15:33:49.078 DEBUG 5834 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2021-12-30 15:36:11.679  INFO 5834 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 15:36:11.687  INFO 5834 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 15:36:11.698  INFO 5834 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 15:36:20.715  INFO 5912 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 5912 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 15:36:20.720  INFO 5912 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 15:36:21.770  INFO 5912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 15:36:21.771  INFO 5912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 15:36:21.809  INFO 5912 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 15:36:21.811  INFO 5912 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 15:36:21.812  INFO 5912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 JDBC repository interfaces.
2021-12-30 15:36:21.821  INFO 5912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 15:36:21.821  INFO 5912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 15:36:21.868  INFO 5912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 2 JPA repository interfaces.
2021-12-30 15:36:22.216  INFO 5912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:36:22.221  INFO 5912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:36:22.223  INFO 5912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1a1ed4e5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:36:22.225  INFO 5912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:36:22.231  INFO 5912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:36:22.232  INFO 5912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:36:22.234  INFO 5912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 15:36:22.521  INFO 5912 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 15:36:22.531  INFO 5912 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 15:36:22.532  INFO 5912 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 15:36:22.693  INFO 5912 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 15:36:22.694  INFO 5912 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1818 ms
2021-12-30 15:36:22.762  WARN 5912 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 15:36:22.880  INFO 5912 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 15:36:23.033  INFO 5912 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 15:36:24.342  INFO 5912 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 15:36:25.239 DEBUG 5912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 15:36:25.375 DEBUG 5912 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 15:36:25.503 DEBUG 5912 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 15:36:25.551 DEBUG 5912 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 15:36:25.819  INFO 5912 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 15:36:25.830  INFO 5912 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.955 seconds (JVM running for 6.903)
2021-12-30 15:36:31.410  INFO 5912 --- [http-nio-5000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 15:36:31.411  INFO 5912 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 15:36:31.412 DEBUG 5912 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 15:36:31.412 DEBUG 5912 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 15:36:31.412 DEBUG 5912 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 15:36:31.414 DEBUG 5912 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2ae5bd34
2021-12-30 15:36:31.414 DEBUG 5912 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2ef041bb
2021-12-30 15:36:31.415 DEBUG 5912 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 15:36:31.415  INFO 5912 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2021-12-30 15:36:31.443 DEBUG 5912 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:36:31.456 DEBUG 5912 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 15:36:31.459 DEBUG 5912 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:36:31.575 DEBUG 5912 --- [http-nio-5000-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 15:36:31.587  INFO 5912 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 15:36:31.825 DEBUG 5912 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 15:36:32.100 DEBUG 5912 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 15:36:34.686 DEBUG 5912 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 15:36:35.549  INFO 5912 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"32"}
2021-12-30 15:36:35.582 DEBUG 5912 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 15:36:35.583 DEBUG 5912 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 15:36:35.588 DEBUG 5912 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"32"}] as "application/json"
2021-12-30 15:36:35.711 DEBUG 5912 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 15:36:35.716  INFO 5912 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 15:36:35.721  INFO 5912 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Code = 401 UNAUTHORIZED,Send OTP fail,time = 4133
2021-12-30 15:36:35.737 DEBUG 5912 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:36:35.738 DEBUG 5912 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@6993bbfb]
2021-12-30 15:36:35.751 DEBUG 5912 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2021-12-30 15:36:46.332 DEBUG 5912 --- [http-nio-5000-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:36:46.334 DEBUG 5912 --- [http-nio-5000-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 15:36:46.335 DEBUG 5912 --- [http-nio-5000-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 15:36:46.335 DEBUG 5912 --- [http-nio-5000-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 15:36:46.336  INFO 5912 --- [http-nio-5000-exec-3] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 15:36:46.344 DEBUG 5912 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 15:36:46.355 DEBUG 5912 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 15:36:47.912 DEBUG 5912 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 15:36:48.494  INFO 5912 --- [http-nio-5000-exec-3] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"33"}
2021-12-30 15:36:48.495 DEBUG 5912 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 15:36:48.495 DEBUG 5912 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 15:36:48.497 DEBUG 5912 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"33"}] as "application/json"
2021-12-30 15:36:48.595 DEBUG 5912 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 15:36:48.603  INFO 5912 --- [http-nio-5000-exec-3] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 15:37:59.752  WARN 5912 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m36s619ms).
2021-12-30 15:37:59.756  INFO 5912 --- [http-nio-5000-exec-3] c.m.sms.controller.otp.OtpController     : Code = 401 UNAUTHORIZED,Send OTP fail,time = 73420
2021-12-30 15:37:59.758 DEBUG 5912 --- [http-nio-5000-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 15:37:59.758 DEBUG 5912 --- [http-nio-5000-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@63695171]
2021-12-30 15:37:59.760 DEBUG 5912 --- [http-nio-5000-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2021-12-30 16:07:43.090  INFO 5912 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 16:07:43.100  INFO 5912 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 16:07:43.103  INFO 5912 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 16:07:50.753  INFO 6177 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 6177 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 16:07:50.757  INFO 6177 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 16:07:51.732  INFO 6177 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 16:07:51.733  INFO 6177 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 16:07:51.771  INFO 6177 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 16:07:51.773  INFO 6177 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 16:07:51.774  INFO 6177 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 0 JDBC repository interfaces.
2021-12-30 16:07:51.782  INFO 6177 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 16:07:51.783  INFO 6177 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 16:07:51.828  INFO 6177 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 2 JPA repository interfaces.
2021-12-30 16:07:52.140  INFO 6177 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:07:52.145  INFO 6177 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:07:52.147  INFO 6177 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@69e308c6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:07:52.148  INFO 6177 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:07:52.154  INFO 6177 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:07:52.155  INFO 6177 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:07:52.156  INFO 6177 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:07:52.417  INFO 6177 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 16:07:52.427  INFO 6177 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 16:07:52.427  INFO 6177 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 16:07:52.582  INFO 6177 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 16:07:52.582  INFO 6177 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1728 ms
2021-12-30 16:07:52.650  WARN 6177 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 16:07:52.764  INFO 6177 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 16:07:52.900  INFO 6177 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 16:07:54.032  INFO 6177 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 16:07:54.945 DEBUG 6177 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 16:07:55.074 DEBUG 6177 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 16:07:55.193 DEBUG 6177 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 16:07:55.234 DEBUG 6177 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 16:07:55.458  INFO 6177 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 16:07:55.469  INFO 6177 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 5.734 seconds (JVM running for 6.9)
2021-12-30 16:08:06.282  INFO 6177 --- [http-nio-5000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 16:08:06.284  INFO 6177 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 16:08:06.284 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 16:08:06.284 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 16:08:06.284 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 16:08:06.286 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5563bb40
2021-12-30 16:08:06.288 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@506aa618
2021-12-30 16:08:06.288 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 16:08:06.289  INFO 6177 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2021-12-30 16:08:06.316 DEBUG 6177 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 16:08:06.332 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 16:08:06.335 DEBUG 6177 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 16:08:06.446 DEBUG 6177 --- [http-nio-5000-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 16:08:06.459  INFO 6177 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 16:08:06.759 DEBUG 6177 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 16:08:07.115 DEBUG 6177 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 16:08:09.874 DEBUG 6177 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 16:08:10.672  INFO 6177 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"34"}
2021-12-30 16:08:10.710 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 16:08:10.712 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 16:08:10.716 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"34"}] as "application/json"
2021-12-30 16:08:10.823 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 16:08:10.832  INFO 6177 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 16:08:12.567  INFO 6177 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : {"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}
2021-12-30 16:08:14.968 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/oauth2/token
2021-12-30 16:08:14.969 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 16:08:14.969 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Writing [{"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}] as "application/json"
2021-12-30 16:08:15.114 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 16:08:15.116 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 16:15:49.691  WARN 6177 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=7m56s687ms).
2021-12-30 16:15:49.725  INFO 6177 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 16:15:49.796  INFO 6177 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Code = null,null,time = 463336
2021-12-30 16:15:49.870 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.IllegalArgumentException: HttpStatus must not be null
2021-12-30 16:15:49.926 ERROR 6177 --- [http-nio-5000-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: HttpStatus must not be null] with root cause

java.lang.IllegalArgumentException: HttpStatus must not be null
	at org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.http.ResponseEntity.<init>(ResponseEntity.java:136) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.http.ResponseEntity.<init>(ResponseEntity.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.http.ResponseEntity.<init>(ResponseEntity.java:98) ~[spring-web-5.3.14.jar:5.3.14]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:34) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 16:15:49.992 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 16:15:50.024 DEBUG 6177 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 16:15:50.061 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 16:15:50.065 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 16:15:50 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 16:15:50.142 DEBUG 6177 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 16:22:29.250  WARN 6177 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m39s493ms).
2021-12-30 16:51:07.523  INFO 6177 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 16:51:07.548  INFO 6177 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 16:51:07.558  INFO 6177 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 16:51:19.024  INFO 6623 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 6623 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 16:51:19.033  INFO 6623 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 16:51:20.195  INFO 6623 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 16:51:20.196  INFO 6623 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 16:51:20.236  INFO 6623 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 16:51:20.238  INFO 6623 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 16:51:20.240  INFO 6623 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 0 JDBC repository interfaces.
2021-12-30 16:51:20.251  INFO 6623 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 16:51:20.251  INFO 6623 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 16:51:20.303  INFO 6623 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2021-12-30 16:51:20.720  INFO 6623 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:51:20.725  INFO 6623 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:51:20.728  INFO 6623 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@41a6d121' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:51:20.729  INFO 6623 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:51:20.736  INFO 6623 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:51:20.737  INFO 6623 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:51:20.739  INFO 6623 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:51:21.074  INFO 6623 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 16:51:21.084  INFO 6623 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 16:51:21.084  INFO 6623 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 16:51:21.180  INFO 6623 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 16:51:21.180  INFO 6623 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2021 ms
2021-12-30 16:51:21.262  WARN 6623 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 16:51:21.409  INFO 6623 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 16:51:21.576  INFO 6623 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 16:51:22.918  INFO 6623 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 16:51:24.860 DEBUG 6623 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 16:51:25.010 DEBUG 6623 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 16:51:25.135 DEBUG 6623 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 16:51:25.176 DEBUG 6623 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 16:51:25.459  INFO 6623 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 16:51:25.471  INFO 6623 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 7.273 seconds (JVM running for 8.546)
2021-12-30 16:51:31.460  INFO 6623 --- [http-nio-5000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 16:51:31.460  INFO 6623 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 16:51:31.461 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 16:51:31.461 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 16:51:31.461 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 16:51:31.462 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5c25d0d1
2021-12-30 16:51:31.463 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@645dc557
2021-12-30 16:51:31.463 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 16:51:31.463  INFO 6623 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-12-30 16:51:31.488 DEBUG 6623 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 16:51:31.504 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 16:51:31.507 DEBUG 6623 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 16:51:31.622 DEBUG 6623 --- [http-nio-5000-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 16:51:31.638  INFO 6623 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 16:51:32.112 DEBUG 6623 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 16:51:32.197 DEBUG 6623 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 16:51:34.184 DEBUG 6623 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 16:51:34.227  INFO 6623 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"35"}
2021-12-30 16:51:34.259 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 16:51:34.261 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 16:51:34.265 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"35"}] as "application/json"
2021-12-30 16:51:34.459 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 16:51:34.464  INFO 6623 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 16:51:34.465  INFO 6623 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : {"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}
2021-12-30 16:51:34.466 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/oauth2/token
2021-12-30 16:51:34.466 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 16:51:34.467 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}] as "application/json"
2021-12-30 16:51:34.615 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 16:51:34.617 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 16:51:34.630  INFO 6623 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 16:52:00.066 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 16:52:00.066 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 16:52:00.067 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"access_token":null,"BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"35"}] as "application/json"
2021-12-30 16:52:00.169 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 16:52:00.169 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 16:52:00.931  INFO 6623 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Code = 200 OK,Send OTP success,time = 29292
2021-12-30 16:52:00.963 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 16:52:00.964 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@44568a49]
2021-12-30 16:52:00.979 DEBUG 6623 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-12-30 16:52:24.199 DEBUG 6623 --- [http-nio-5000-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 16:52:24.201 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 16:52:24.202 DEBUG 6623 --- [http-nio-5000-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 16:52:24.209 DEBUG 6623 --- [http-nio-5000-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 16:52:24.209  INFO 6623 --- [http-nio-5000-exec-3] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 16:52:24.214 DEBUG 6623 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 16:52:24.218 DEBUG 6623 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 16:52:25.879 DEBUG 6623 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 16:52:25.888  INFO 6623 --- [http-nio-5000-exec-3] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"36"}
2021-12-30 16:52:25.893 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 16:52:25.894 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 16:52:25.894 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"36"}] as "application/json"
2021-12-30 16:52:26.001 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 16:52:26.004  INFO 6623 --- [http-nio-5000-exec-3] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 16:52:26.006  INFO 6623 --- [http-nio-5000-exec-3] com.medlink.sms.service.otp.OtpService   : {"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}
2021-12-30 16:52:26.007 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/oauth2/token
2021-12-30 16:52:26.007 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 16:52:26.009 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Writing [{"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}] as "application/json"
2021-12-30 16:52:26.147 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 16:52:26.148 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 16:52:26.149  INFO 6623 --- [http-nio-5000-exec-3] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 16:52:44.996  WARN 6623 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=46s899ms).
2021-12-30 16:52:53.479 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 16:52:53.479 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 16:52:53.479 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Writing [{"access_token":null,"BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"36"}] as "application/json"
2021-12-30 16:52:53.575 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 16:52:53.576 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 16:52:54.170  INFO 6623 --- [http-nio-5000-exec-3] c.m.sms.controller.otp.OtpController     : Code = 200 OK,Send OTP success,time = 29961
2021-12-30 16:52:54.174 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 16:52:54.175 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@1550b685]
2021-12-30 16:52:54.176 DEBUG 6623 --- [http-nio-5000-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-12-30 16:52:59.202 DEBUG 6623 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 16:52:59.203 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 16:52:59.203 DEBUG 6623 --- [http-nio-5000-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 16:52:59.204 DEBUG 6623 --- [http-nio-5000-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 16:52:59.205  INFO 6623 --- [http-nio-5000-exec-4] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 16:52:59.207 DEBUG 6623 --- [http-nio-5000-exec-4] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 16:52:59.211 DEBUG 6623 --- [http-nio-5000-exec-4] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 16:53:05.519 DEBUG 6623 --- [http-nio-5000-exec-4] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 16:53:05.526  INFO 6623 --- [http-nio-5000-exec-4] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"37"}
2021-12-30 16:53:05.527 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 16:53:05.527 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 16:53:05.528 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"37"}] as "application/json"
2021-12-30 16:53:05.630 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 16:53:05.631  INFO 6623 --- [http-nio-5000-exec-4] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 16:53:05.633  INFO 6623 --- [http-nio-5000-exec-4] com.medlink.sms.service.otp.OtpService   : {"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}
2021-12-30 16:53:05.633 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/oauth2/token
2021-12-30 16:53:05.633 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 16:53:05.634 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : Writing [{"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}] as "application/json"
2021-12-30 16:53:05.767 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 16:53:05.767 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 16:57:35.416  INFO 6623 --- [http-nio-5000-exec-4] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 16:57:35.416  WARN 6623 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m50s405ms).
2021-12-30 16:57:35.489 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 16:57:35.505 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 16:57:35.520 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : Writing [{"access_token":null,"BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"37"}] as "application/json"
2021-12-30 16:57:35.636 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 16:57:35.638 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 16:57:35.730  INFO 6623 --- [http-nio-5000-exec-4] c.m.sms.controller.otp.OtpController     : Code = 200 OK,Send OTP success,time = 276525
2021-12-30 16:57:35.737 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 16:57:35.738 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@2be1b25c]
2021-12-30 16:57:35.766 DEBUG 6623 --- [http-nio-5000-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-12-30 16:57:35.920  INFO 6623 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 16:57:35.942  INFO 6623 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 16:57:35.971  INFO 6623 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 16:57:44.159  INFO 6723 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 6723 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 16:57:44.164  INFO 6723 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 16:57:45.897  INFO 6723 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 16:57:45.898  INFO 6723 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 16:57:45.941  INFO 6723 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 16:57:45.943  INFO 6723 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 16:57:45.945  INFO 6723 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 0 JDBC repository interfaces.
2021-12-30 16:57:45.955  INFO 6723 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 16:57:45.956  INFO 6723 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 16:57:46.004  INFO 6723 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2021-12-30 16:57:46.392  INFO 6723 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:57:46.397  INFO 6723 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:57:46.400  INFO 6723 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@213deac2' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:57:46.402  INFO 6723 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:57:46.409  INFO 6723 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:57:46.410  INFO 6723 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:57:46.411  INFO 6723 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:57:46.745  INFO 6723 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 16:57:46.756  INFO 6723 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 16:57:46.757  INFO 6723 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 16:57:47.016  INFO 6723 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 16:57:47.016  INFO 6723 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2677 ms
2021-12-30 16:57:47.088  WARN 6723 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 16:57:47.204  INFO 6723 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 16:57:47.375  INFO 6723 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 16:57:48.585  INFO 6723 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 16:57:49.502 DEBUG 6723 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 16:57:49.669 DEBUG 6723 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 16:57:49.814 DEBUG 6723 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 16:57:49.873 DEBUG 6723 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 16:57:50.228  INFO 6723 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 16:57:50.240  INFO 6723 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 7.273 seconds (JVM running for 8.846)
2021-12-30 16:57:54.342  INFO 6723 --- [http-nio-5000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 16:57:54.343  INFO 6723 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 16:57:54.344 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 16:57:54.344 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 16:57:54.344 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 16:57:54.347 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@21090c88
2021-12-30 16:57:54.348 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@40f1aa95
2021-12-30 16:57:54.350 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 16:57:54.351  INFO 6723 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2021-12-30 16:57:54.387 DEBUG 6723 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 16:57:54.416 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 16:57:54.419 DEBUG 6723 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 16:57:54.616 DEBUG 6723 --- [http-nio-5000-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 16:57:54.638  INFO 6723 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 16:57:55.137 DEBUG 6723 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 16:57:55.231 DEBUG 6723 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 16:57:59.303 DEBUG 6723 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 16:57:59.374  INFO 6723 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"38"}
2021-12-30 16:57:59.421 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 16:57:59.423 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 16:57:59.430 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"38"}] as "application/json"
2021-12-30 16:57:59.551 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 16:57:59.556  INFO 6723 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 16:57:59.558  INFO 6723 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : {"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}
2021-12-30 16:57:59.559 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/oauth2/token
2021-12-30 16:57:59.559 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 16:57:59.561 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}] as "application/json"
2021-12-30 16:57:59.709 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 16:57:59.711 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 16:59:30.154  WARN 6723 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m42s575ms).
2021-12-30 16:59:30.169  INFO 6723 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 16:59:30.173 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 16:59:30.177 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 16:59:30.179 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"access_token":null,"BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"38"}] as "application/json"
2021-12-30 16:59:30.276 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 16:59:30.355 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 16:59:30.418  INFO 6723 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Code = 200 OK,Send OTP success,time = 95778
2021-12-30 16:59:30.452 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 16:59:30.454 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@6c8504ec]
2021-12-30 16:59:30.481 DEBUG 6723 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-12-30 16:59:30.791  INFO 6723 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 16:59:30.799  INFO 6723 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 16:59:30.814  INFO 6723 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 16:59:57.159  INFO 6753 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 6753 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 16:59:57.169  INFO 6753 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 16:59:58.266  INFO 6753 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 16:59:58.267  INFO 6753 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 16:59:58.310  INFO 6753 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 16:59:58.312  INFO 6753 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 16:59:58.313  INFO 6753 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 0 JDBC repository interfaces.
2021-12-30 16:59:58.344  INFO 6753 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 16:59:58.345  INFO 6753 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 16:59:58.408  INFO 6753 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 2 JPA repository interfaces.
2021-12-30 16:59:58.892  INFO 6753 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:59:58.896  INFO 6753 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:59:58.899  INFO 6753 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@35e478f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:59:58.901  INFO 6753 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:59:58.908  INFO 6753 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:59:58.909  INFO 6753 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:59:58.911  INFO 6753 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 16:59:59.240  INFO 6753 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 16:59:59.251  INFO 6753 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 16:59:59.251  INFO 6753 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 16:59:59.382  INFO 6753 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 16:59:59.382  INFO 6753 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2126 ms
2021-12-30 16:59:59.453  WARN 6753 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 16:59:59.586  INFO 6753 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 16:59:59.795  INFO 6753 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 17:00:01.354  INFO 6753 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 17:00:02.332 DEBUG 6753 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 17:00:02.477 DEBUG 6753 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 17:00:02.597 DEBUG 6753 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 17:00:02.650 DEBUG 6753 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 17:00:02.953  INFO 6753 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 17:00:02.965  INFO 6753 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 6.664 seconds (JVM running for 7.838)
2021-12-30 17:00:23.906  INFO 6753 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 17:00:23.913  INFO 6753 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 17:00:23.924  INFO 6753 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 17:00:46.469  INFO 6773 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 6773 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 17:00:46.475  INFO 6773 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 17:00:47.731  INFO 6773 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 17:00:47.732  INFO 6773 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 17:00:47.778  INFO 6773 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 17:00:47.781  INFO 6773 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 17:00:47.782  INFO 6773 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 0 JDBC repository interfaces.
2021-12-30 17:00:47.790  INFO 6773 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 17:00:47.791  INFO 6773 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 17:00:47.835  INFO 6773 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2021-12-30 17:00:48.235  INFO 6773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:00:48.243  INFO 6773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:00:48.247  INFO 6773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@41d7b27f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:00:48.250  INFO 6773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:00:48.258  INFO 6773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:00:48.259  INFO 6773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:00:48.261  INFO 6773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:00:48.592  INFO 6773 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 17:00:48.602  INFO 6773 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 17:00:48.602  INFO 6773 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 17:00:48.674  INFO 6773 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 17:00:48.674  INFO 6773 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2082 ms
2021-12-30 17:00:48.753  WARN 6773 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 17:00:48.876  INFO 6773 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 17:00:49.016  INFO 6773 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 17:00:50.209  INFO 6773 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 17:00:51.093 DEBUG 6773 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 17:00:51.295 DEBUG 6773 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 17:00:51.415 DEBUG 6773 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 17:00:51.457 DEBUG 6773 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 17:00:51.789  INFO 6773 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 17:00:51.824  INFO 6773 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 6.384 seconds (JVM running for 7.656)
2021-12-30 17:01:00.972  INFO 6773 --- [http-nio-5000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 17:01:00.973  INFO 6773 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 17:01:00.973 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 17:01:00.975 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 17:01:00.975 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 17:01:00.982 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3ef2b8e5
2021-12-30 17:01:00.983 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@45d389f2
2021-12-30 17:01:00.983 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 17:01:00.983  INFO 6773 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2021-12-30 17:01:01.013 DEBUG 6773 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:01:01.030 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 17:01:01.033 DEBUG 6773 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:01:01.204 DEBUG 6773 --- [http-nio-5000-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0964913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 17:01:01.249  INFO 6773 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0964913998
2021-12-30 17:01:01.803 DEBUG 6773 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 17:01:01.904 DEBUG 6773 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 17:01:06.976 DEBUG 6773 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 17:01:07.035  INFO 6773 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"39"}
2021-12-30 17:01:07.101 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 17:01:07.103 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:01:07.108 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"39"}] as "application/json"
2021-12-30 17:01:07.229 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 17:01:07.236  INFO 6773 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 17:01:07.237  INFO 6773 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : {"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}
2021-12-30 17:01:07.238 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/oauth2/token
2021-12-30 17:01:07.238 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:01:07.240 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}] as "application/json"
2021-12-30 17:01:07.385 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 17:01:07.387 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 17:01:18.983  INFO 6773 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 17:01:26.378 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 17:01:26.378 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:01:26.379 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"access_token":"S24vNW4xNlhCWFBBVW83ODNFS3pMNGV2UDBhMm9iOE5ZeDJzLzQwTElkLytWRXBUa3Y0VnREUGNMcWFPK3A0QS9lZFlFNTVvWTQyZW5aY3N5NnlVTndTK0JTNTRWL0NQb0RCZ1JHejRrTkxLNWt5MXliQVE2UEZCYWpYaTZRaUFDWWtWZHp4WGg3OFhOTlp2RU1PSG52Ky9XankyVllFTDUxMDFRRjNWSkFVQkRabWZJNTZUdk5UbE53ckJ2MnFZ","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDk2NDkxMzk5OA==","RequestId":"123213","Phone":"0964913998","session_id":"39"}] as "application/json"
2021-12-30 17:01:26.523 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 17:01:26.524 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 17:01:27.584  INFO 6773 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Code = 200 OK,Send OTP success,time = 26333
2021-12-30 17:01:27.610 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 17:01:27.611 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@6805aa88]
2021-12-30 17:01:27.634 DEBUG 6773 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-12-30 17:02:26.816 DEBUG 6773 --- [http-nio-5000-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:02:26.818 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 17:02:26.818 DEBUG 6773 --- [http-nio-5000-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:02:26.819 DEBUG 6773 --- [http-nio-5000-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0864913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 17:02:26.819  INFO 6773 --- [http-nio-5000-exec-3] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0864913998
2021-12-30 17:02:26.824 DEBUG 6773 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 17:02:26.829 DEBUG 6773 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 17:02:32.414 DEBUG 6773 --- [http-nio-5000-exec-3] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 17:02:32.434  INFO 6773 --- [http-nio-5000-exec-3] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"40"}
2021-12-30 17:02:32.440 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 17:02:32.440 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:02:32.441 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"40"}] as "application/json"
2021-12-30 17:02:32.547 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 17:02:32.550  INFO 6773 --- [http-nio-5000-exec-3] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 17:02:32.551  INFO 6773 --- [http-nio-5000-exec-3] com.medlink.sms.service.otp.OtpService   : {"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}
2021-12-30 17:02:32.552 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/oauth2/token
2021-12-30 17:02:32.552 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:02:32.554 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Writing [{"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}] as "application/json"
2021-12-30 17:02:32.686 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 17:02:32.687 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 17:02:32.687  INFO 6773 --- [http-nio-5000-exec-3] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 17:02:32.688 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 17:02:32.688 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:02:32.689 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Writing [{"access_token":"MVhUejRQNUdaU3RmZklsUXVaWVVSUDFDb0tldDZIRFdsZkdvYlF4ZTJFOU9XWjA5Z01ycHlHbHF1MnNkUmoyRjZYT0plTXFoVjJjbzRaRFpsRS9MS2F5bmNJVGFaUEllMXVuaVdKWHZibTQ3S0xJMGdiMXE2MDU0cVJSTUV5RkVmeGpRdDJrOFIybWVQamN4TmFtNHlJMGRQYitadUh3Wm9BY0ljRnpxcWRHTDY5dWNrMHRteFEwc2RndGlUQXg4","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"40"}] as "application/json"
2021-12-30 17:02:32.878 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 17:02:32.878 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 17:02:32.881  INFO 6773 --- [http-nio-5000-exec-3] c.m.sms.controller.otp.OtpController     : Code = 200 OK,Send OTP success,time = 6062
2021-12-30 17:02:32.882 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 17:02:32.883 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@61364632]
2021-12-30 17:02:32.885 DEBUG 6773 --- [http-nio-5000-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-12-30 17:02:32.947  INFO 6773 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 17:02:32.951  INFO 6773 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 17:02:32.961  INFO 6773 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 17:02:39.916  INFO 6800 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 6800 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 17:02:39.924  INFO 6800 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 17:02:41.133  INFO 6800 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 17:02:41.134  INFO 6800 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 17:02:41.176  INFO 6800 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 17:02:41.178  INFO 6800 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 17:02:41.182  INFO 6800 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 0 JDBC repository interfaces.
2021-12-30 17:02:41.192  INFO 6800 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 17:02:41.192  INFO 6800 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 17:02:41.246  INFO 6800 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 2 JPA repository interfaces.
2021-12-30 17:02:41.676  INFO 6800 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:02:41.680  INFO 6800 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:02:41.682  INFO 6800 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7ff2b8d2' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:02:41.684  INFO 6800 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:02:41.690  INFO 6800 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:02:41.691  INFO 6800 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:02:41.692  INFO 6800 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:02:41.920  INFO 6800 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 17:02:41.930  INFO 6800 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 17:02:41.931  INFO 6800 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 17:02:42.031  INFO 6800 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 17:02:42.031  INFO 6800 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1931 ms
2021-12-30 17:02:42.100  WARN 6800 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 17:02:42.217  INFO 6800 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 17:02:42.325  INFO 6800 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 17:02:44.252  INFO 6800 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 17:02:44.926 DEBUG 6800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 17:02:45.088 DEBUG 6800 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 17:02:45.176 DEBUG 6800 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 17:02:45.214 DEBUG 6800 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 17:02:45.438  INFO 6800 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 17:02:45.448  INFO 6800 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 6.36 seconds (JVM running for 7.62)
2021-12-30 17:02:47.674  INFO 6800 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 17:02:47.678  INFO 6800 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 17:02:47.683  INFO 6800 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 17:02:52.060  INFO 6805 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 6805 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 17:02:52.067  INFO 6805 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 17:02:53.467  INFO 6805 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 17:02:53.468  INFO 6805 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 17:02:53.510  INFO 6805 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 17:02:53.512  INFO 6805 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 17:02:53.514  INFO 6805 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 0 JDBC repository interfaces.
2021-12-30 17:02:53.526  INFO 6805 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 17:02:53.527  INFO 6805 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 17:02:53.584  INFO 6805 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2021-12-30 17:02:53.939  INFO 6805 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:02:53.944  INFO 6805 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:02:53.947  INFO 6805 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@c3c4c1c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:02:53.948  INFO 6805 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:02:53.954  INFO 6805 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:02:53.955  INFO 6805 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:02:53.956  INFO 6805 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:02:54.252  INFO 6805 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 17:02:54.262  INFO 6805 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 17:02:54.263  INFO 6805 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 17:02:54.374  INFO 6805 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 17:02:54.374  INFO 6805 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2054 ms
2021-12-30 17:02:54.438  WARN 6805 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 17:02:54.562  INFO 6805 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 17:02:54.718  INFO 6805 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 17:02:55.989  INFO 6805 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 17:02:56.932 DEBUG 6805 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 17:02:57.073 DEBUG 6805 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 17:02:57.204 DEBUG 6805 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 17:02:57.256 DEBUG 6805 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 17:02:57.555  INFO 6805 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 17:02:57.567  INFO 6805 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 6.522 seconds (JVM running for 8.933)
2021-12-30 17:03:03.949  INFO 6805 --- [http-nio-5000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 17:03:03.950  INFO 6805 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 17:03:03.950 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 17:03:03.950 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 17:03:03.951 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 17:03:03.952 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@39ace1a7
2021-12-30 17:03:03.953 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2b3f7704
2021-12-30 17:03:03.954 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 17:03:03.954  INFO 6805 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2021-12-30 17:03:04.003 DEBUG 6805 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:03:04.021 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 17:03:04.022 DEBUG 6805 --- [http-nio-5000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:03:04.178 DEBUG 6805 --- [http-nio-5000-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0864913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 17:03:04.210  INFO 6805 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0864913998
2021-12-30 17:03:04.690 DEBUG 6805 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 17:03:04.783 DEBUG 6805 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 17:03:11.463 DEBUG 6805 --- [http-nio-5000-exec-1] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 17:03:11.521  INFO 6805 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"41"}
2021-12-30 17:03:11.576 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 17:03:11.579 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:03:11.584 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"41"}] as "application/json"
2021-12-30 17:03:11.706 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 17:03:11.714  INFO 6805 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 17:03:11.716  INFO 6805 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : {"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}
2021-12-30 17:03:11.716 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/oauth2/token
2021-12-30 17:03:11.717 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:03:11.718 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}] as "application/json"
2021-12-30 17:03:11.850 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 17:03:11.852 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 17:03:15.797  INFO 6805 --- [http-nio-5000-exec-1] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 17:03:40.687 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 17:03:40.688 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:03:40.688 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Writing [{"access_token":"L0xCNm1kY1BHck53Y1p4c3ZyeXRlOXpSVlJxcVJRZjRRdythK2hpWDBkaW45TGNoUG9wNkx3OTFVUTBENkQyR0hOakUxNVBJa2tNbFJiVkxWMXBVek44eWN2eEJQdXczYXhLMFV2OWJOcXZZNnAwN1VSc3RVMmpXQ0ZPSnNzSHhNSmkrUzZrMFFvV3NhWTJQc0I0aUtaQXBsZk5jOElWWHluZVQrY1NZOVJoWjB5djlPU3k0UDdVZDZGekZ4bVJ5","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"41"}] as "application/json"
2021-12-30 17:03:40.842 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 17:03:40.842 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 17:03:41.945  INFO 6805 --- [http-nio-5000-exec-1] c.m.sms.controller.otp.OtpController     : Code = 200 OK,Send OTP success,time = 37731
2021-12-30 17:03:41.977 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 17:03:41.978 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@7f213465]
2021-12-30 17:03:42.007 DEBUG 6805 --- [http-nio-5000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-12-30 17:04:28.386  INFO 6805 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 17:04:28.389  INFO 6805 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 17:04:28.395  INFO 6805 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 17:04:36.030  INFO 6836 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 6836 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 17:04:36.034  INFO 6836 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 17:04:37.015  INFO 6836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 17:04:37.016  INFO 6836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 17:04:37.059  INFO 6836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 17:04:37.061  INFO 6836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 17:04:37.063  INFO 6836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 0 JDBC repository interfaces.
2021-12-30 17:04:37.073  INFO 6836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 17:04:37.074  INFO 6836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 17:04:37.147  INFO 6836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 2 JPA repository interfaces.
2021-12-30 17:04:37.573  INFO 6836 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:04:37.578  INFO 6836 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:04:37.580  INFO 6836 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5baaae4c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:04:37.581  INFO 6836 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:04:37.588  INFO 6836 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:04:37.589  INFO 6836 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:04:37.590  INFO 6836 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:04:37.904  INFO 6836 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 17:04:37.914  INFO 6836 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 17:04:37.915  INFO 6836 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 17:04:38.101  INFO 6836 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 17:04:38.101  INFO 6836 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1961 ms
2021-12-30 17:04:38.212  WARN 6836 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 17:04:38.338  INFO 6836 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 17:04:38.484  INFO 6836 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 17:04:39.936  INFO 6836 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 17:04:41.022 DEBUG 6836 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 17:04:41.155 DEBUG 6836 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 17:04:41.279 DEBUG 6836 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 17:04:41.328 DEBUG 6836 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 17:04:41.679  INFO 6836 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 17:04:41.690  INFO 6836 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 6.681 seconds (JVM running for 8.725)
2021-12-30 17:04:55.533  INFO 6836 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 17:04:55.538  INFO 6836 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 17:04:55.544  INFO 6836 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 17:05:03.223  INFO 6845 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 6845 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 17:05:03.227  INFO 6845 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 17:05:04.551  INFO 6845 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 17:05:04.552  INFO 6845 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 17:05:04.595  INFO 6845 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 17:05:04.605  INFO 6845 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 17:05:04.606  INFO 6845 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 0 JDBC repository interfaces.
2021-12-30 17:05:04.617  INFO 6845 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 17:05:04.617  INFO 6845 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 17:05:04.659  INFO 6845 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2021-12-30 17:05:05.041  INFO 6845 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:05:05.045  INFO 6845 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:05:05.047  INFO 6845 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@27e32fe4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:05:05.050  INFO 6845 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:05:05.056  INFO 6845 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:05:05.056  INFO 6845 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:05:05.060  INFO 6845 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 17:05:05.363  INFO 6845 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 17:05:05.375  INFO 6845 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 17:05:05.375  INFO 6845 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 17:05:05.518  INFO 6845 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 17:05:05.519  INFO 6845 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2178 ms
2021-12-30 17:05:05.595  WARN 6845 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 17:05:05.710  INFO 6845 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 17:05:05.849  INFO 6845 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 17:05:07.139  INFO 6845 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 17:05:08.208 DEBUG 6845 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 17:05:08.385 DEBUG 6845 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 17:05:08.534 DEBUG 6845 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 17:05:08.592 DEBUG 6845 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 17:05:08.932  INFO 6845 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 17:05:08.945  INFO 6845 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 6.524 seconds (JVM running for 7.705)
2021-12-30 17:05:19.671  INFO 6845 --- [http-nio-5000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 17:05:19.672  INFO 6845 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 17:05:19.672 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 17:05:19.672 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 17:05:19.673 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 17:05:19.675 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4276ad40
2021-12-30 17:05:19.676 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@211a9647
2021-12-30 17:05:19.676 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 17:05:19.676  INFO 6845 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2021-12-30 17:05:19.708 DEBUG 6845 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:05:19.728 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 17:05:19.732 DEBUG 6845 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:05:19.890 DEBUG 6845 --- [http-nio-5000-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0864913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 17:05:19.913  INFO 6845 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0864913998
2021-12-30 17:05:20.849 DEBUG 6845 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 17:05:21.004 DEBUG 6845 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 17:05:25.887 DEBUG 6845 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 17:05:25.935  INFO 6845 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"42"}
2021-12-30 17:05:25.970 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 17:05:25.971 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:05:25.978 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"42"}] as "application/json"
2021-12-30 17:05:26.085 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 17:05:26.090  INFO 6845 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 17:05:26.092  INFO 6845 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : {"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}
2021-12-30 17:05:26.093 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/oauth2/token
2021-12-30 17:05:26.094 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:05:26.096 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Writing [{"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}] as "application/json"
2021-12-30 17:05:26.231 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 17:05:26.233 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 17:05:51.646  INFO 6845 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 17:05:56.036 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 17:05:56.037 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:05:56.037 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Writing [{"access_token":"bkc2WjJhVDN6eUdSVTVWZ054ZEhwZ3psUGxJd2l4eGs2ZE9nN0dyZTEyZVBmRWRvckc0ZDVtMnd4RTRlaGhVOVhNaDVKdlVFUTVwWWJpMnhwNS84N1RGNVprb2pwMHpIclNYWEdhQnhPK3hVTVJ5d1phb2ttcEhoQ093TUxOTVovRHp3cG4yOENSY0VDcWsrN1VvbHRKQ0g2MmlBdnpYNS9MSGNIUHhTbnl1SEo3ZHFFaFVOL3N1Nk8wZGNMc2Z4","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"42"}] as "application/json"
2021-12-30 17:05:56.191 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 17:05:56.201 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 17:06:38.733  WARN 6845 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=55s821ms).
2021-12-30 17:06:49.040  INFO 6845 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Code = 200 OK,Send OTP success,time = 89126
2021-12-30 17:06:49.062 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 17:06:49.063 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@19a8e762]
2021-12-30 17:06:49.077 DEBUG 6845 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-12-30 17:11:16.426 DEBUG 6845 --- [http-nio-5000-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:11:16.436 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 17:11:16.437 DEBUG 6845 --- [http-nio-5000-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:11:16.449 DEBUG 6845 --- [http-nio-5000-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0864913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 17:11:16.451  INFO 6845 --- [http-nio-5000-exec-5] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0864913998
2021-12-30 17:11:16.469 DEBUG 6845 --- [http-nio-5000-exec-5] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 17:11:16.485 DEBUG 6845 --- [http-nio-5000-exec-5] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 17:11:19.167 DEBUG 6845 --- [http-nio-5000-exec-5] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 17:11:19.183  INFO 6845 --- [http-nio-5000-exec-5] com.medlink.sms.service.otp.OtpService   : {"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"43"}
2021-12-30 17:11:19.185 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 17:11:19.188 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:11:19.189 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : Writing [{"access_token":"b0t6RiszTTFCekNYVGxZNSs1enVOWXNSREVjZ1Q3MVoxd3ZabXh3aGR5MS9hRTl0Zm9hYzF2aXZBWXNkNDErdmFVSEluYVIxWHVoZTJ0aG5ZQkN1UmVlY0tqV0pQQ3lvc3JKSzlJSzNKZy85SmUrbDJQSXRHVjAxeTNNRWhISCtzVWRnVmMwaERrdjlpS2NyUFdERUQyeHpaNnl2MFQ5N1VpOHNoZWdrNXRseGlTcCszbThKQkxwcGZOTXcxaFVM","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"43"}] as "application/json"
2021-12-30 17:11:19.299 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 17:11:19.303  INFO 6845 --- [http-nio-5000-exec-5] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 17:11:19.304  INFO 6845 --- [http-nio-5000-exec-5] com.medlink.sms.service.otp.OtpService   : {"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}
2021-12-30 17:11:19.305 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/oauth2/token
2021-12-30 17:11:19.305 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:11:19.306 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : Writing [{"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}] as "application/json"
2021-12-30 17:11:19.436 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 17:11:19.437 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 17:56:16.989  INFO 6845 --- [http-nio-5000-exec-5] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 17:56:16.992  WARN 6845 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=45m6s392ms).
2021-12-30 17:56:23.863 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 17:56:23.866 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:56:23.873 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : Writing [{"access_token":"bnlzUjBkbS92SC9BRU1RamlmQkM2TVBneEwzL2taNW15Z045OFFveFc3TTRtRjllcHJ4WmQ2c2JaQUgwdzliRllLcTlVNmZ4SzlOZVQvWWhpLy8yOUEzVDJmYWJDY0RScDZROHdVWGsydU5lL3lZL1pOSDVSQU9aSTVSZDcxaXBjZUE2Q25uK2x0YXRmTjEyOURWSGZ2c3lHckJKZjFTdzNZWDBSL01rclhGcEdIamlEMFVkcnIrOEJvMTc0NUVF","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"43"}] as "application/json"
2021-12-30 17:56:24.063 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 17:56:24.122 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized: [no body]
2021-12-30 17:56:24.150 ERROR 6845 --- [http-nio-5000-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized: [no body]] with root cause

org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized: [no body]
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:105) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:468) ~[spring-web-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService.sendOtpFpt(OtpService.java:132) ~[classes/:na]
	at com.medlink.sms.service.otp.OtpService$$FastClassBySpringCGLIB$$c3b5d710.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at com.medlink.sms.service.otp.OtpService$$EnhancerBySpringCGLIB$$43aa57b8.sendOtpFpt(<generated>) ~[classes/:na]
	at com.medlink.sms.controller.otp.OtpController.requestOtp(OtpController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at com.medlink.sms.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_292]

2021-12-30 17:56:24.168 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2021-12-30 17:56:24.179 DEBUG 6845 --- [http-nio-5000-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-12-30 17:56:24.203 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 17:56:24.204 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 30 17:56:24 ICT 2021, status=500, error=Internal Server Error, path=/api/otp/requ (truncated)...]
2021-12-30 17:56:24.217 DEBUG 6845 --- [http-nio-5000-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-12-30 17:56:30.143 DEBUG 6845 --- [http-nio-5000-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:56:30.145 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 17:56:30.145 DEBUG 6845 --- [http-nio-5000-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:56:30.147 DEBUG 6845 --- [http-nio-5000-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0864913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 17:56:30.148  INFO 6845 --- [http-nio-5000-exec-7] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0864913998
2021-12-30 17:56:30.158 DEBUG 6845 --- [http-nio-5000-exec-7] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 17:56:30.165 DEBUG 6845 --- [http-nio-5000-exec-7] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 17:56:32.007 DEBUG 6845 --- [http-nio-5000-exec-7] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 17:56:32.025  INFO 6845 --- [http-nio-5000-exec-7] com.medlink.sms.service.otp.OtpService   : {"access_token":"bnlzUjBkbS92SC9BRU1RamlmQkM2TVBneEwzL2taNW15Z045OFFveFc3TTRtRjllcHJ4WmQ2c2JaQUgwdzliRllLcTlVNmZ4SzlOZVQvWWhpLy8yOUEzVDJmYWJDY0RScDZROHdVWGsydU5lL3lZL1pOSDVSQU9aSTVSZDcxaXBjZUE2Q25uK2x0YXRmTjEyOURWSGZ2c3lHckJKZjFTdzNZWDBSL01rclhGcEdIamlEMFVkcnIrOEJvMTc0NUVF","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"44"}
2021-12-30 17:56:32.025 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 17:56:32.027 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:56:32.028 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Writing [{"access_token":"bnlzUjBkbS92SC9BRU1RamlmQkM2TVBneEwzL2taNW15Z045OFFveFc3TTRtRjllcHJ4WmQ2c2JaQUgwdzliRllLcTlVNmZ4SzlOZVQvWWhpLy8yOUEzVDJmYWJDY0RScDZROHdVWGsydU5lL3lZL1pOSDVSQU9aSTVSZDcxaXBjZUE2Q25uK2x0YXRmTjEyOURWSGZ2c3lHckJKZjFTdzNZWDBSL01rclhGcEdIamlEMFVkcnIrOEJvMTc0NUVF","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"44"}] as "application/json"
2021-12-30 17:56:32.138 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 17:56:32.140  INFO 6845 --- [http-nio-5000-exec-7] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 17:56:32.142  INFO 6845 --- [http-nio-5000-exec-7] com.medlink.sms.service.otp.OtpService   : {"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}
2021-12-30 17:56:32.143 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/oauth2/token
2021-12-30 17:56:32.144 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:56:32.144 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Writing [{"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}] as "application/json"
2021-12-30 17:56:32.304 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 17:56:32.305 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 17:56:44.483  INFO 6845 --- [http-nio-5000-exec-7] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 17:57:00.523 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 17:57:00.524 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:57:00.525 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Writing [{"access_token":"eWRVeVR1TGFLR2l1MlhqU2RCMjFXTktMWk1pTzdlWmJDakpHclJSU1k0SmpFR2dKaUs1ejdibmYvb0dnTlV0ZkFpendoM0xxODJwNnk2c243ZHlkbFVCSjFDYXUvc3E0K0JjNnoxSXB5QmF0THJxbi9OZExlWWhSQzN2U1JTcHppdWVseW9nckNKcllGTjNkREJtVTJ1dHNMeVRkeUd1YUgvVHpYQ05KaUFPd2tFcmJHZC9UZngzQzNianJGZE5s","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"44"}] as "application/json"
2021-12-30 17:57:00.673 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 17:57:00.673 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 17:57:40.843  INFO 6845 --- [http-nio-5000-exec-7] c.m.sms.controller.otp.OtpController     : Code = 200 OK,Send OTP success,time = 70695
2021-12-30 17:57:40.844 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 17:57:40.844 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@55a43825]
2021-12-30 17:57:40.848 DEBUG 6845 --- [http-nio-5000-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-12-30 17:58:01.482 DEBUG 6845 --- [http-nio-5000-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:58:01.483 DEBUG 6845 --- [http-nio-5000-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 17:58:01.484 DEBUG 6845 --- [http-nio-5000-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:58:01.486 DEBUG 6845 --- [http-nio-5000-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0864913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 17:58:01.486  INFO 6845 --- [http-nio-5000-exec-8] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0864913998
2021-12-30 17:58:01.494 DEBUG 6845 --- [http-nio-5000-exec-8] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 17:58:01.499 DEBUG 6845 --- [http-nio-5000-exec-8] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 17:58:03.376 DEBUG 6845 --- [http-nio-5000-exec-8] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 17:58:03.381  INFO 6845 --- [http-nio-5000-exec-8] com.medlink.sms.service.otp.OtpService   : {"access_token":"eWRVeVR1TGFLR2l1MlhqU2RCMjFXTktMWk1pTzdlWmJDakpHclJSU1k0SmpFR2dKaUs1ejdibmYvb0dnTlV0ZkFpendoM0xxODJwNnk2c243ZHlkbFVCSjFDYXUvc3E0K0JjNnoxSXB5QmF0THJxbi9OZExlWWhSQzN2U1JTcHppdWVseW9nckNKcllGTjNkREJtVTJ1dHNMeVRkeUd1YUgvVHpYQ05KaUFPd2tFcmJHZC9UZngzQzNianJGZE5s","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"45"}
2021-12-30 17:58:03.382 DEBUG 6845 --- [http-nio-5000-exec-8] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 17:58:03.383 DEBUG 6845 --- [http-nio-5000-exec-8] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:58:03.383 DEBUG 6845 --- [http-nio-5000-exec-8] o.s.web.client.RestTemplate              : Writing [{"access_token":"eWRVeVR1TGFLR2l1MlhqU2RCMjFXTktMWk1pTzdlWmJDakpHclJSU1k0SmpFR2dKaUs1ejdibmYvb0dnTlV0ZkFpendoM0xxODJwNnk2c243ZHlkbFVCSjFDYXUvc3E0K0JjNnoxSXB5QmF0THJxbi9OZExlWWhSQzN2U1JTcHppdWVseW9nckNKcllGTjNkREJtVTJ1dHNMeVRkeUd1YUgvVHpYQ05KaUFPd2tFcmJHZC9UZngzQzNianJGZE5s","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"45"}] as "application/json"
2021-12-30 17:58:03.549 DEBUG 6845 --- [http-nio-5000-exec-8] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 17:58:03.549 DEBUG 6845 --- [http-nio-5000-exec-8] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 17:58:03.550  INFO 6845 --- [http-nio-5000-exec-8] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 17:58:03.563  INFO 6845 --- [http-nio-5000-exec-8] c.m.sms.controller.otp.OtpController     : Code = 200 OK,Send OTP success,time = 2074
2021-12-30 17:58:03.564 DEBUG 6845 --- [http-nio-5000-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 17:58:03.564 DEBUG 6845 --- [http-nio-5000-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@20781673]
2021-12-30 17:58:03.567 DEBUG 6845 --- [http-nio-5000-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-12-30 17:58:33.986 DEBUG 6845 --- [http-nio-5000-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:58:33.989 DEBUG 6845 --- [http-nio-5000-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 17:58:33.989 DEBUG 6845 --- [http-nio-5000-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 17:58:33.992 DEBUG 6845 --- [http-nio-5000-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0864913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 17:58:33.992  INFO 6845 --- [http-nio-5000-exec-9] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0864913998
2021-12-30 17:58:33.994 DEBUG 6845 --- [http-nio-5000-exec-9] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 17:58:33.996 DEBUG 6845 --- [http-nio-5000-exec-9] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 17:58:39.714 DEBUG 6845 --- [http-nio-5000-exec-9] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 17:58:39.718  INFO 6845 --- [http-nio-5000-exec-9] com.medlink.sms.service.otp.OtpService   : {"access_token":"eWRVeVR1TGFLR2l1MlhqU2RCMjFXTktMWk1pTzdlWmJDakpHclJSU1k0SmpFR2dKaUs1ejdibmYvb0dnTlV0ZkFpendoM0xxODJwNnk2c243ZHlkbFVCSjFDYXUvc3E0K0JjNnoxSXB5QmF0THJxbi9OZExlWWhSQzN2U1JTcHppdWVseW9nckNKcllGTjNkREJtVTJ1dHNMeVRkeUd1YUgvVHpYQ05KaUFPd2tFcmJHZC9UZngzQzNianJGZE5s","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"46"}
2021-12-30 17:58:39.722 DEBUG 6845 --- [http-nio-5000-exec-9] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 17:58:39.724 DEBUG 6845 --- [http-nio-5000-exec-9] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 17:58:39.724 DEBUG 6845 --- [http-nio-5000-exec-9] o.s.web.client.RestTemplate              : Writing [{"access_token":"eWRVeVR1TGFLR2l1MlhqU2RCMjFXTktMWk1pTzdlWmJDakpHclJSU1k0SmpFR2dKaUs1ejdibmYvb0dnTlV0ZkFpendoM0xxODJwNnk2c243ZHlkbFVCSjFDYXUvc3E0K0JjNnoxSXB5QmF0THJxbi9OZExlWWhSQzN2U1JTcHppdWVseW9nckNKcllGTjNkREJtVTJ1dHNMeVRkeUd1YUgvVHpYQ05KaUFPd2tFcmJHZC9UZngzQzNianJGZE5s","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"46"}] as "application/json"
2021-12-30 17:58:39.882 DEBUG 6845 --- [http-nio-5000-exec-9] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 17:58:39.883 DEBUG 6845 --- [http-nio-5000-exec-9] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 17:58:39.883  INFO 6845 --- [http-nio-5000-exec-9] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 17:58:39.898 DEBUG 6845 --- [http-nio-5000-exec-9] org.hibernate.SQL                        : update sms_message_otp set account_id=?, branch_id=?, expire_date=?, message_type=?, otp_value=?, phone_no=?, request_id=? where message_otp_id=?
2021-12-30 17:58:39.907  INFO 6845 --- [http-nio-5000-exec-9] c.m.sms.controller.otp.OtpController     : Code = 200 OK,Send OTP success,time = 5915
2021-12-30 17:58:39.908 DEBUG 6845 --- [http-nio-5000-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 17:58:39.908 DEBUG 6845 --- [http-nio-5000-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@cc4cbfa]
2021-12-30 17:58:39.909 DEBUG 6845 --- [http-nio-5000-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-12-30 17:59:59.373  INFO 6845 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 17:59:59.382  INFO 6845 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 17:59:59.392  INFO 6845 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-12-30 18:00:06.874  INFO 7500 --- [main] com.medlink.sms.SmsApplication           : Starting SmsApplication using Java 1.8.0_292 on MAC-02.local with PID 7500 (/Users/eco0537-KHANHND/Desktop/SMS service/sms/target/classes started by eco0537-KHANHND in /Users/eco0537-KHANHND/Desktop/SMS service/sms)
2021-12-30 18:00:06.876  INFO 7500 --- [main] com.medlink.sms.SmsApplication           : No active profile set, falling back to default profiles: default
2021-12-30 18:00:08.311  INFO 7500 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 18:00:08.312  INFO 7500 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2021-12-30 18:00:08.356  INFO 7500 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.BranchNameRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 18:00:08.360  INFO 7500 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.medlink.sms.repository.otp.MessageOtpRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2021-12-30 18:00:08.361  INFO 7500 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 0 JDBC repository interfaces.
2021-12-30 18:00:08.372  INFO 7500 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-30 18:00:08.373  INFO 7500 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-30 18:00:08.419  INFO 7500 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2021-12-30 18:00:08.773  INFO 7500 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 18:00:08.778  INFO 7500 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 18:00:08.781  INFO 7500 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@757194dc' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 18:00:08.782  INFO 7500 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 18:00:08.792  INFO 7500 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration' of type [org.springframework.security.config.annotation.method.configuration.Jsr250MetadataSourceConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 18:00:08.792  INFO 7500 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsr250MethodSecurityMetadataSource' of type [org.springframework.security.access.annotation.Jsr250MethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 18:00:08.794  INFO 7500 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-30 18:00:09.134  INFO 7500 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5000 (http)
2021-12-30 18:00:09.145  INFO 7500 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-12-30 18:00:09.146  INFO 7500 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 18:00:09.244  INFO 7500 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-12-30 18:00:09.244  INFO 7500 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2271 ms
2021-12-30 18:00:09.336  WARN 7500 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-30 18:00:09.469  INFO 7500 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-12-30 18:00:09.650  INFO 7500 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-12-30 18:00:10.920  INFO 7500 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 18:00:11.843 DEBUG 7500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2021-12-30 18:00:11.981 DEBUG 7500 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-12-30 18:00:12.098 DEBUG 7500 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-12-30 18:00:12.150 DEBUG 7500 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-12-30 18:00:12.448  INFO 7500 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5000 (http) with context path ''
2021-12-30 18:00:12.460  INFO 7500 --- [main] com.medlink.sms.SmsApplication           : Started SmsApplication in 6.208 seconds (JVM running for 7.933)
2021-12-30 18:01:37.807  INFO 7500 --- [http-nio-5000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-30 18:01:37.808  INFO 7500 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-12-30 18:01:37.809 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-12-30 18:01:37.809 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-12-30 18:01:37.809 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-12-30 18:01:37.812 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@15e08615
2021-12-30 18:01:37.813 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5ab63a04
2021-12-30 18:01:37.813 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-12-30 18:01:37.813  INFO 7500 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2021-12-30 18:01:37.834 DEBUG 7500 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 18:01:37.847 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/otp/request", parameters={}
2021-12-30 18:01:37.849 DEBUG 7500 --- [http-nio-5000-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.medlink.sms.controller.otp.OtpController#requestOtp(SendOtpRequest)
2021-12-30 18:01:38.012 DEBUG 7500 --- [http-nio-5000-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SendOtpRequest(phoneNo=0864913998, messageType=REGISTER, branchId=1, accountId=0)]
2021-12-30 18:01:38.035  INFO 7500 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Request OTP for REGISTER: 0864913998
2021-12-30 18:01:38.299 DEBUG 7500 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsbranchn0_.branch_id as branch_i1_0_, smsbranchn0_.access_token as access_t2_0_, smsbranchn0_.branch_name as branch_n3_0_, smsbranchn0_.client_id as client_i4_0_, smsbranchn0_.client_secret as client_s5_0_, smsbranchn0_.expire_date as expire_d6_0_ from sms_branch_name smsbranchn0_ where smsbranchn0_.branch_id=?
2021-12-30 18:01:38.617 DEBUG 7500 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : select smsmessage0_.message_otp_id as message_1_1_, smsmessage0_.account_id as account_2_1_, smsmessage0_.branch_id as branch_i3_1_, smsmessage0_.expire_date as expire_d4_1_, smsmessage0_.message_type as message_5_1_, smsmessage0_.otp_value as otp_valu6_1_, smsmessage0_.phone_no as phone_no7_1_, smsmessage0_.request_id as request_8_1_ from sms_message_otp smsmessage0_ where smsmessage0_.phone_no=? and smsmessage0_.branch_id=? order by smsmessage0_.expire_date desc limit ?
2021-12-30 18:01:38.646 DEBUG 7500 --- [http-nio-5000-exec-2] org.hibernate.SQL                        : insert into sms_message_otp (account_id, branch_id, expire_date, message_type, otp_value, phone_no, request_id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-30 18:01:38.684  INFO 7500 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : {"access_token":"eWRVeVR1TGFLR2l1MlhqU2RCMjFXTktMWk1pTzdlWmJDakpHclJSU1k0SmpFR2dKaUs1ejdibmYvb0dnTlV0ZkFpendoM0xxODJwNnk2c243ZHlkbFVCSjFDYXUvc3E0K0JjNnoxSXB5QmF0THJxbi9OZExlWWhSQzN2U1JTcHppdWVseW9nckNKcllGTjNkREJtVTJ1dHNMeVRkeUd1YUgvVHpYQ05KaUFPd2tFcmJHZC9UZngzQzNianJGZE5s","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"47"}
2021-12-30 18:01:38.712 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 18:01:38.715 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 18:01:38.718 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Writing [{"access_token":"eWRVeVR1TGFLR2l1MlhqU2RCMjFXTktMWk1pTzdlWmJDakpHclJSU1k0SmpFR2dKaUs1ejdibmYvb0dnTlV0ZkFpendoM0xxODJwNnk2c243ZHlkbFVCSjFDYXUvc3E0K0JjNnoxSXB5QmF0THJxbi9OZExlWWhSQzN2U1JTcHppdWVseW9nckNKcllGTjNkREJtVTJ1dHNMeVRkeUd1YUgvVHpYQ05KaUFPd2tFcmJHZC9UZngzQzNianJGZE5s","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"47"}] as "application/json"
2021-12-30 18:01:38.849 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Response 401 UNAUTHORIZED
2021-12-30 18:01:38.854  INFO 7500 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : 401 Unauthorized: [no body]
2021-12-30 18:01:38.862  INFO 7500 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : {"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}
2021-12-30 18:01:38.863 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/oauth2/token
2021-12-30 18:01:38.863 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 18:01:38.864 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Writing [{"grant_type":"client_credentials","scope":"send_brandname_otp send_brandname","session_id":"123213","client_secret":"cB54def546c1209B1e857e9740dcef15F04322e44ceB4f1310754077Dac607Ea4580532d","client_id":"7DACe3198f622756ff0fcc7e004140013a0758f0"}] as "application/json"
2021-12-30 18:01:38.995 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 18:01:38.996 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 18:01:39.015  INFO 7500 --- [http-nio-5000-exec-2] com.medlink.sms.service.otp.OtpService   : 200
2021-12-30 18:01:39.016 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : HTTP POST http://sandbox.sms.fpt.net/api/push-brandname-otp
2021-12-30 18:01:39.017 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2021-12-30 18:01:39.017 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Writing [{"access_token":"WHVtNHRqWWFpc3liWEpyN2ZiUDQ3d3FlUW1Zd2F0bzl4VDFvd0FQNkRaZCtTT1ZybFMxaE15QWczQUhuUkdQMHpTSCtKTkhIZGg1WVZhbFJVc2FqaEg2M3NSbjBybTYvRHRiakwwbUY3WTNhakI2WENCT3pOZ1N6d2hRM2FoV3BSLzl0VlZMcVBpNVRndTRRUEpqQ2RFZG5pQndoNDB5czlJVDZYMUVZRkxqTG5qdGJlT1lsUm9TeWZWbHVIQldt","BrandName":"FTI","Message":"TcOjIE9UUCBj4bunYSBi4bqhbiBsw6AgMDg2NDkxMzk5OA==","RequestId":"123213","Phone":"0864913998","session_id":"47"}] as "application/json"
2021-12-30 18:01:39.163 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2021-12-30 18:01:39.163 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json"
2021-12-30 18:01:39.172  INFO 7500 --- [http-nio-5000-exec-2] c.m.sms.controller.otp.OtpController     : Code = 200 OK,Send OTP success,time = 1135
2021-12-30 18:01:39.192 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-12-30 18:01:39.194 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.medlink.sms.model.response.BaseModel@e6cb1f]
2021-12-30 18:01:39.211 DEBUG 7500 --- [http-nio-5000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-12-30 18:10:28.425  WARN 7500 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m48s576ms).
2021-12-30 18:19:28.319  WARN 7500 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Retrograde clock change detected (housekeeper delta=29s838ms), soft-evicting connections from pool.
2021-12-30 18:19:55.148  INFO 7500 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-30 18:19:55.161  INFO 7500 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-12-30 18:19:55.168  INFO 7500 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
